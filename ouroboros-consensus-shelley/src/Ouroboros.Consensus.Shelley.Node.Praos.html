<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds           #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts    #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GADTs               #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes          #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications    #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators       #-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Ouroboros.Consensus.Shelley.Node.Praos</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#ProtocolParamsBabbage"><span class="hs-identifier">ProtocolParamsBabbage</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#praosBlockForging"><span class="hs-identifier">praosBlockForging</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#praosSharedBlockForging"><span class="hs-identifier">praosSharedBlockForging</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#protocolInfoPraosBabbage"><span class="hs-identifier">protocolInfoPraosBabbage</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#protocolInfoPraosShelleyBased"><span class="hs-identifier">protocolInfoPraosShelleyBased</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.BaseTypes</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">mkActiveSlotCoeff</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Era</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Shelley.API</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SL</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Protocol.TPraos.OCert</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Absolute</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Protocol.TPraos.OCert</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SL</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Cardano.Slotting.EpochInfo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">EpochInfo</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fixedEpochInfo</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Cardano.Slotting.Time</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">SystemStart</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">SystemStart</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkSlotLength</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.Except</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">Except</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Block</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">SecurityParam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">SecurityParam</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>                     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">TopLevelConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">configConsensus</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.History</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">History</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HeaderValidation</span></a></span><span>
</span><span id="line-32"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">HeaderState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">HeaderState</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Ledger.Abstract</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">LedgerConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Ledger.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">ExtLedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Mempool.TxLimits</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Mempool.TxLimits</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TxLimits</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Node</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">ProtocolInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Protocol.Abstract</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">ConsensusConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">Ouroboros.Consensus.Protocol.Ledger.HotKey</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HotKey</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">Ouroboros.Consensus.Protocol.Praos</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">ConsensusConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>                     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">Praos</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">PraosParams</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">PraosState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>                     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">praosCheckCanForge</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">Ouroboros.Consensus.Protocol.Praos.Common</span></a></span><span>
</span><span id="line-44"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">MaxMajorProtVer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">MaxMajorProtVer</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>                     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">PraosCanBeLeader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier">praosCanBeLeaderOpCert</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Eras.html"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Eras</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">BabbageEra</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Eras.html#EraCrypto"><span class="hs-identifier">EraCrypto</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>                     </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Eras.html#ShelleyBasedEra"><span class="hs-identifier">ShelleyBasedEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Eras.html#shelleyBasedEraName"><span class="hs-identifier">shelleyBasedEraName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.html"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Ledger</span></a></span><span>
</span><span id="line-49"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">CodecConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Config.html#ShelleyCodecConfig"><span class="hs-identifier">ShelleyCodecConfig</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>                     </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier">ShelleyBlock</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyCompatible"><span class="hs-identifier">ShelleyCompatible</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#ShelleyTransition"><span class="hs-identifier">ShelleyTransition</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>                     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">StorageConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Forge.html#forgeShelleyBlock"><span class="hs-identifier">forgeShelleyBlock</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>                     </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Config.html#mkShelleyBlockConfig"><span class="hs-identifier">mkShelleyBlockConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#mkShelleyLedgerConfig"><span class="hs-identifier">mkShelleyLedgerConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.html"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Node</span></a></span><span>
</span><span id="line-54"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ProtocolParamsShelleyBased"><span class="hs-identifier">ProtocolParamsShelleyBased</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>                     </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ShelleyLeaderCredentials"><span class="hs-identifier">ShelleyLeaderCredentials</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.TPraos.html#validateGenesis"><span class="hs-identifier">validateGenesis</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Node.Common</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ShelleyEraWithCrypto"><span class="hs-identifier">ShelleyEraWithCrypto</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>                     </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyBlockIssuerVKey"><span class="hs-identifier">shelleyBlockIssuerVKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Protocol.Praos.html"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Protocol.Praos</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Util.Assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">assertWithMsg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Util.IOLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">IOLike</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  BlockForging
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-comment">-- | Create a 'BlockForging' record for a single era.</span><span>
</span><span id="line-67"></span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#praosBlockForging"><span class="hs-identifier hs-type">praosBlockForging</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679726011"><span class="annot"><a href="#local-6989586621679726011"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679726012"><span class="annot"><a href="#local-6989586621679726012"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621679726013"><span class="annot"><a href="#local-6989586621679726013"><span class="hs-identifier hs-type">c</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyCompatible"><span class="hs-identifier hs-type">ShelleyCompatible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726013"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726012"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><a href="#local-6989586621679726013"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Eras.html#EraCrypto"><span class="hs-identifier hs-type">EraCrypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726012"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726013"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726012"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">IOLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726011"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">PraosParams</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits.Overrides</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726013"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726012"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ShelleyLeaderCredentials"><span class="hs-identifier hs-type">ShelleyLeaderCredentials</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Eras.html#EraCrypto"><span class="hs-identifier hs-type">EraCrypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726012"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="#local-6989586621679726011"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockForging</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726011"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726013"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726012"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span id="praosBlockForging"><span class="annot"><span class="annottext">praosBlockForging :: PraosParams
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; ShelleyLeaderCredentials (EraCrypto era)
-&gt; m (BlockForging m (ShelleyBlock (Praos c) era))
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#praosBlockForging"><span class="hs-identifier hs-var hs-var">praosBlockForging</span></a></span></span><span> </span><span id="local-6989586621679725931"><span class="annot"><span class="annottext">PraosParams
</span><a href="#local-6989586621679725931"><span class="hs-identifier hs-var">praosParams</span></a></span></span><span> </span><span id="local-6989586621679725930"><span class="annot"><span class="annottext">Overrides (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725930"><span class="hs-identifier hs-var">maxTxCapacityOverrides</span></a></span></span><span> </span><span id="local-6989586621679725929"><span class="annot"><span class="annottext">ShelleyLeaderCredentials (EraCrypto era)
</span><a href="#local-6989586621679725929"><span class="hs-identifier hs-var">credentials</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-79"></span><span>    </span><span id="local-6989586621679725928"><span class="annot"><span class="annottext">HotKey c m
</span><a href="#local-6989586621679725928"><span class="hs-identifier hs-var">hotKey</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SignKeyKES c -&gt; KESPeriod -&gt; Word64 -&gt; m (HotKey c m)
forall (m :: * -&gt; *) c.
(Crypto c, IOLike m) =&gt;
SignKeyKES c -&gt; KESPeriod -&gt; Word64 -&gt; m (HotKey c m)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">HotKey.mkHotKey</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679726011"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679726013"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="annottext">SignKeyKES c
</span><a href="#local-6989586621679725926"><span class="hs-identifier hs-var">initSignKey</span></a></span><span> </span><span class="annot"><span class="annottext">KESPeriod
</span><a href="#local-6989586621679725925"><span class="hs-identifier hs-var">startPeriod</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679725924"><span class="hs-identifier hs-var">praosMaxKESEvo</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><span class="annottext">BlockForging m (ShelleyBlock (Praos c) era)
-&gt; m (BlockForging m (ShelleyBlock (Praos c) era))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockForging m (ShelleyBlock (Praos c) era)
 -&gt; m (BlockForging m (ShelleyBlock (Praos c) era)))
-&gt; BlockForging m (ShelleyBlock (Praos c) era)
-&gt; m (BlockForging m (ShelleyBlock (Praos c) era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HotKey c m
-&gt; (SlotNo -&gt; KESPeriod)
-&gt; ShelleyLeaderCredentials c
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; BlockForging m (ShelleyBlock (Praos c) era)
forall (m :: * -&gt; *) c era.
(ShelleyEraWithCrypto c (Praos c) era, IOLike m) =&gt;
HotKey c m
-&gt; (SlotNo -&gt; KESPeriod)
-&gt; ShelleyLeaderCredentials c
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; BlockForging m (ShelleyBlock (Praos c) era)
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#praosSharedBlockForging"><span class="hs-identifier hs-var">praosSharedBlockForging</span></a></span><span> </span><span class="annot"><span class="annottext">HotKey c m
</span><a href="#local-6989586621679725928"><span class="hs-identifier hs-var">hotKey</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; KESPeriod
</span><a href="#local-6989586621679725923"><span class="hs-identifier hs-var">slotToPeriod</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyLeaderCredentials c
ShelleyLeaderCredentials (EraCrypto era)
</span><a href="#local-6989586621679725929"><span class="hs-identifier hs-var">credentials</span></a></span><span> </span><span class="annot"><span class="annottext">Overrides (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725930"><span class="hs-identifier hs-var">maxTxCapacityOverrides</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">PraosParams</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679725924"><span class="annot"><span class="annottext">Word64
praosMaxKESEvo :: PraosParams -&gt; Word64
praosMaxKESEvo :: Word64
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var hs-var">praosMaxKESEvo</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679725920"><span class="annot"><span class="annottext">Word64
praosSlotsPerKESPeriod :: PraosParams -&gt; Word64
praosSlotsPerKESPeriod :: Word64
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var hs-var">praosSlotsPerKESPeriod</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PraosParams
</span><a href="#local-6989586621679725931"><span class="hs-identifier hs-var">praosParams</span></a></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span>    </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ShelleyLeaderCredentials"><span class="hs-identifier hs-type">ShelleyLeaderCredentials</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-85"></span><span>        </span><span class="annot"><span class="annottext">shelleyLeaderCredentialsInitSignKey :: forall c. ShelleyLeaderCredentials c -&gt; SignKeyKES c
</span><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyLeaderCredentialsInitSignKey"><span class="hs-identifier hs-var">shelleyLeaderCredentialsInitSignKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725926"><span class="annot"><span class="annottext">SignKeyKES c
</span><a href="#local-6989586621679725926"><span class="hs-identifier hs-var">initSignKey</span></a></span></span><span>
</span><span id="line-86"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">shelleyLeaderCredentialsCanBeLeader :: forall c. ShelleyLeaderCredentials c -&gt; PraosCanBeLeader c
</span><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyLeaderCredentialsCanBeLeader"><span class="hs-identifier hs-var">shelleyLeaderCredentialsCanBeLeader</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725915"><span class="annot"><span class="annottext">PraosCanBeLeader c
</span><a href="#local-6989586621679725915"><span class="hs-identifier hs-var">canBeLeader</span></a></span></span><span>
</span><span id="line-87"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyLeaderCredentials c
ShelleyLeaderCredentials (EraCrypto era)
</span><a href="#local-6989586621679725929"><span class="hs-identifier hs-var">credentials</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><a href="#local-6989586621679725925"><span class="hs-identifier hs-type">startPeriod</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Absolute.KESPeriod</span></span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621679725925"><span class="annot"><span class="annottext">startPeriod :: KESPeriod
</span><a href="#local-6989586621679725925"><span class="hs-identifier hs-var hs-var">startPeriod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OCert c -&gt; KESPeriod
forall crypto. OCert crypto -&gt; KESPeriod
</span><span class="hs-identifier hs-var hs-var">SL.ocertKESPeriod</span></span><span> </span><span class="annot"><span class="annottext">(OCert c -&gt; KESPeriod) -&gt; OCert c -&gt; KESPeriod
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PraosCanBeLeader c -&gt; OCert c
forall c. PraosCanBeLeader c -&gt; OCert c
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var hs-var">praosCanBeLeaderOpCert</span></a></span><span> </span><span class="annot"><span class="annottext">PraosCanBeLeader c
</span><a href="#local-6989586621679725915"><span class="hs-identifier hs-var">canBeLeader</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span>    </span><span class="annot"><a href="#local-6989586621679725923"><span class="hs-identifier hs-type">slotToPeriod</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SlotNo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Absolute.KESPeriod</span></span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621679725923"><span class="annot"><span class="annottext">slotToPeriod :: SlotNo -&gt; KESPeriod
</span><a href="#local-6989586621679725923"><span class="hs-identifier hs-var hs-var">slotToPeriod</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SlotNo</span></span><span> </span><span id="local-6989586621679725912"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679725912"><span class="hs-identifier hs-var">slot</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-94"></span><span>      </span><span class="annot"><span class="annottext">Word -&gt; KESPeriod
</span><span class="hs-identifier hs-var">SL.KESPeriod</span></span><span> </span><span class="annot"><span class="annottext">(Word -&gt; KESPeriod) -&gt; Word -&gt; KESPeriod
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Word) -&gt; Word64 -&gt; Word
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679725912"><span class="hs-identifier hs-var">slot</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">`div`</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679725920"><span class="hs-identifier hs-var">praosSlotsPerKESPeriod</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-comment">-- | Create a 'BlockForging' record safely using the given 'Hotkey'.</span><span>
</span><span id="line-97"></span><span class="hs-comment">--</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- The name of the era (separated by a @_@) will be appended to each</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- 'forgeLabel'.</span><span>
</span><span id="line-100"></span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#praosSharedBlockForging"><span class="hs-identifier hs-type">praosSharedBlockForging</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679726100"><span class="annot"><a href="#local-6989586621679726100"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679726103"><span class="annot"><a href="#local-6989586621679726103"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679726102"><span class="annot"><a href="#local-6989586621679726102"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ShelleyEraWithCrypto"><span class="hs-identifier hs-type">ShelleyEraWithCrypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726103"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726103"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726102"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">IOLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726100"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">HotKey.HotKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726103"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726100"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SlotNo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Absolute.KESPeriod</span></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ShelleyLeaderCredentials"><span class="hs-identifier hs-type">ShelleyLeaderCredentials</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726103"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits.Overrides</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726103"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726102"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockForging</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726100"><span class="hs-identifier hs-type">m</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726103"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726102"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span id="praosSharedBlockForging"><span class="annot"><span class="annottext">praosSharedBlockForging :: HotKey c m
-&gt; (SlotNo -&gt; KESPeriod)
-&gt; ShelleyLeaderCredentials c
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; BlockForging m (ShelleyBlock (Praos c) era)
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#praosSharedBlockForging"><span class="hs-identifier hs-var hs-var">praosSharedBlockForging</span></a></span></span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621679725909"><span class="annot"><span class="annottext">HotKey c m
</span><a href="#local-6989586621679725909"><span class="hs-identifier hs-var">hotKey</span></a></span></span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621679725908"><span class="annot"><span class="annottext">SlotNo -&gt; KESPeriod
</span><a href="#local-6989586621679725908"><span class="hs-identifier hs-var">slotToPeriod</span></a></span></span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ShelleyLeaderCredentials"><span class="hs-identifier hs-type">ShelleyLeaderCredentials</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">shelleyLeaderCredentialsCanBeLeader :: forall c. ShelleyLeaderCredentials c -&gt; PraosCanBeLeader c
</span><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyLeaderCredentialsCanBeLeader"><span class="hs-identifier hs-var">shelleyLeaderCredentialsCanBeLeader</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725907"><span class="annot"><span class="annottext">PraosCanBeLeader c
</span><a href="#local-6989586621679725907"><span class="hs-identifier hs-var">canBeLeader</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>      </span><span class="annot"><span class="annottext">shelleyLeaderCredentialsLabel :: forall c. ShelleyLeaderCredentials c -&gt; Text
</span><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyLeaderCredentialsLabel"><span class="hs-identifier hs-var">shelleyLeaderCredentialsLabel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725905"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679725905"><span class="hs-keyword hs-var">label</span></a></span></span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-117"></span><span>  </span><span id="local-6989586621679725904"><span class="annot"><span class="annottext">Overrides (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725904"><span class="hs-identifier hs-var">maxTxCapacityOverrides</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-118"></span><span>      </span><span class="annot"><span class="annottext">BlockForging :: forall (m :: * -&gt; *) blk.
Text
-&gt; CanBeLeader (BlockProtocol blk)
-&gt; (TopLevelConfig blk
    -&gt; SlotNo
    -&gt; Ticked (ChainDepState (BlockProtocol blk))
    -&gt; m (ForgeStateUpdateInfo blk))
-&gt; (TopLevelConfig blk
    -&gt; SlotNo
    -&gt; Ticked (ChainDepState (BlockProtocol blk))
    -&gt; IsLeader (BlockProtocol blk)
    -&gt; ForgeStateInfo blk
    -&gt; Either (CannotForge blk) ())
-&gt; (TopLevelConfig blk
    -&gt; BlockNo
    -&gt; SlotNo
    -&gt; TickedLedgerState blk
    -&gt; [Validated (GenTx blk)]
    -&gt; IsLeader (BlockProtocol blk)
    -&gt; m blk)
-&gt; BlockForging m blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockForging</span></a></span><span>
</span><span id="line-119"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">forgeLabel :: Text
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">forgeLabel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679725905"><span class="hs-keyword hs-var">label</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy era -&gt; Text
forall era (proxy :: * -&gt; *).
ShelleyBasedEra era =&gt;
proxy era -&gt; Text
</span><a href="Ouroboros.Consensus.Shelley.Eras.html#shelleyBasedEraName"><span class="hs-identifier hs-var">shelleyBasedEraName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy era
forall k (t :: k). Proxy t
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679726102"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-120"></span><span>          </span><span class="annot"><span class="annottext">canBeLeader :: CanBeLeader (BlockProtocol (ShelleyBlock (Praos c) era))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">canBeLeader</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CanBeLeader (BlockProtocol (ShelleyBlock (Praos c) era))
PraosCanBeLeader c
</span><a href="#local-6989586621679725907"><span class="hs-identifier hs-var">canBeLeader</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>          </span><span class="annot"><span class="annottext">updateForgeState :: TopLevelConfig (ShelleyBlock (Praos c) era)
-&gt; SlotNo
-&gt; Ticked
     (ChainDepState (BlockProtocol (ShelleyBlock (Praos c) era)))
-&gt; m (ForgeStateUpdateInfo (ShelleyBlock (Praos c) era))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">updateForgeState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">TopLevelConfig (ShelleyBlock (Praos c) era)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679725898"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679725898"><span class="hs-identifier hs-var">curSlot</span></a></span></span><span> </span><span class="annot"><span class="annottext">Ticked (ChainDepState (BlockProtocol (ShelleyBlock (Praos c) era)))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-122"></span><span>            </span><span class="annot"><span class="annottext">UpdateInfo KESInfo KESEvolutionError
-&gt; ForgeStateUpdateInfo (ShelleyBlock (Praos c) era)
forall blk.
UpdateInfo (ForgeStateInfo blk) (ForgeStateUpdateError blk)
-&gt; ForgeStateUpdateInfo blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">forgeStateUpdateInfoFromUpdateInfo</span></a></span><span>
</span><span id="line-123"></span><span>              </span><span class="annot"><span class="annottext">(UpdateInfo KESInfo KESEvolutionError
 -&gt; ForgeStateUpdateInfo (ShelleyBlock (Praos c) era))
-&gt; m (UpdateInfo KESInfo KESEvolutionError)
-&gt; m (ForgeStateUpdateInfo (ShelleyBlock (Praos c) era))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HotKey c m -&gt; KESPeriod -&gt; m (UpdateInfo KESInfo KESEvolutionError)
forall c (m :: * -&gt; *).
HotKey c m -&gt; KESPeriod -&gt; m (UpdateInfo KESInfo KESEvolutionError)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var hs-var">HotKey.evolve</span></a></span><span> </span><span class="annot"><span class="annottext">HotKey c m
</span><a href="#local-6989586621679725909"><span class="hs-identifier hs-var">hotKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotNo -&gt; KESPeriod
</span><a href="#local-6989586621679725908"><span class="hs-identifier hs-var">slotToPeriod</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679725898"><span class="hs-identifier hs-var">curSlot</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-124"></span><span>          </span><span class="annot"><span class="annottext">checkCanForge :: TopLevelConfig (ShelleyBlock (Praos c) era)
-&gt; SlotNo
-&gt; Ticked
     (ChainDepState (BlockProtocol (ShelleyBlock (Praos c) era)))
-&gt; IsLeader (BlockProtocol (ShelleyBlock (Praos c) era))
-&gt; ForgeStateInfo (ShelleyBlock (Praos c) era)
-&gt; Either (CannotForge (ShelleyBlock (Praos c) era)) ()
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">checkCanForge</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679725893"><span class="annot"><span class="annottext">TopLevelConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725893"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621679725892"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679725892"><span class="hs-identifier hs-var">curSlot</span></a></span></span><span> </span><span id="local-6989586621679725891"><span class="annot"><span class="annottext">Ticked (ChainDepState (BlockProtocol (ShelleyBlock (Praos c) era)))
</span><a href="#local-6989586621679725891"><span class="hs-identifier hs-var">_tickedChainDepState</span></a></span></span><span> </span><span id="local-6989586621679725890"><span class="annot"><span class="annottext">IsLeader (BlockProtocol (ShelleyBlock (Praos c) era))
</span><a href="#local-6989586621679725890"><span class="hs-identifier hs-var">_isLeader</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-125"></span><span>            </span><span class="annot"><span class="annottext">ConsensusConfig (Praos c)
-&gt; SlotNo -&gt; KESInfo -&gt; Either (PraosCannotForge c) ()
forall c.
ConsensusConfig (Praos c)
-&gt; SlotNo -&gt; KESInfo -&gt; Either (PraosCannotForge c) ()
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosCheckCanForge</span></a></span><span>
</span><span id="line-126"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TopLevelConfig (ShelleyBlock (Praos c) era)
-&gt; ConsensusConfig (BlockProtocol (ShelleyBlock (Praos c) era))
forall blk.
TopLevelConfig blk -&gt; ConsensusConfig (BlockProtocol blk)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">configConsensus</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725893"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>              </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679725892"><span class="hs-identifier hs-var">curSlot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-128"></span><span>          </span><span class="annot"><span class="annottext">forgeBlock :: TopLevelConfig (ShelleyBlock (Praos c) era)
-&gt; BlockNo
-&gt; SlotNo
-&gt; TickedLedgerState (ShelleyBlock (Praos c) era)
-&gt; [Validated (GenTx (ShelleyBlock (Praos c) era))]
-&gt; IsLeader (BlockProtocol (ShelleyBlock (Praos c) era))
-&gt; m (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">forgeBlock</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679725888"><span class="annot"><span class="annottext">TopLevelConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725888"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-129"></span><span>            </span><span class="annot"><span class="annottext">HotKey (EraCrypto era) m
-&gt; CanBeLeader (Praos c)
-&gt; TopLevelConfig (ShelleyBlock (Praos c) era)
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; BlockNo
-&gt; SlotNo
-&gt; TickedLedgerState (ShelleyBlock (Praos c) era)
-&gt; [Validated (GenTx (ShelleyBlock (Praos c) era))]
-&gt; IsLeader (Praos c)
-&gt; m (ShelleyBlock (Praos c) era)
forall (m :: * -&gt; *) era proto.
(ShelleyCompatible proto era, TxLimits (ShelleyBlock proto era),
 Monad m) =&gt;
HotKey (EraCrypto era) m
-&gt; CanBeLeader proto
-&gt; TopLevelConfig (ShelleyBlock proto era)
-&gt; Overrides (ShelleyBlock proto era)
-&gt; BlockNo
-&gt; SlotNo
-&gt; TickedLedgerState (ShelleyBlock proto era)
-&gt; [Validated (GenTx (ShelleyBlock proto era))]
-&gt; IsLeader proto
-&gt; m (ShelleyBlock proto era)
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Forge.html#forgeShelleyBlock"><span class="hs-identifier hs-var">forgeShelleyBlock</span></a></span><span>
</span><span id="line-130"></span><span>              </span><span class="annot"><span class="annottext">HotKey c m
HotKey (EraCrypto era) m
</span><a href="#local-6989586621679725909"><span class="hs-identifier hs-var">hotKey</span></a></span><span>
</span><span id="line-131"></span><span>              </span><span class="annot"><span class="annottext">CanBeLeader (Praos c)
PraosCanBeLeader c
</span><a href="#local-6989586621679725907"><span class="hs-identifier hs-var">canBeLeader</span></a></span><span>
</span><span id="line-132"></span><span>              </span><span class="annot"><span class="annottext">TopLevelConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725888"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-133"></span><span>              </span><span class="annot"><span class="annottext">Overrides (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725904"><span class="hs-identifier hs-var">maxTxCapacityOverrides</span></a></span><span>
</span><span id="line-134"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  ProtocolInfo
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- | Parameters needed to run Babbage</span><span>
</span><span id="line-141"></span><span class="hs-keyword">data</span><span> </span><span id="ProtocolParamsBabbage"><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#ProtocolParamsBabbage"><span class="hs-identifier hs-var">ProtocolParamsBabbage</span></a></span></span><span> </span><span id="local-6989586621679726037"><span class="annot"><a href="#local-6989586621679726037"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ProtocolParamsBabbage"><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#ProtocolParamsBabbage"><span class="hs-identifier hs-var">ProtocolParamsBabbage</span></a></span></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="babbageProtVer"><span class="annot"><span class="annottext">ProtocolParamsBabbage c -&gt; ProtVer
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#babbageProtVer"><span class="hs-identifier hs-var hs-var">babbageProtVer</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.ProtVer</span></span><span class="hs-special">,</span><span>
</span><span id="line-143"></span><span>    </span><span id="babbageMaxTxCapacityOverrides"><span class="annot"><span class="annottext">ProtocolParamsBabbage c
-&gt; Overrides (ShelleyBlock (Praos c) (BabbageEra c))
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#babbageMaxTxCapacityOverrides"><span class="hs-identifier hs-var hs-var">babbageMaxTxCapacityOverrides</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits.Overrides</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726037"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BabbageEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679726037"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#protocolInfoPraosBabbage"><span class="hs-identifier hs-type">protocolInfoPraosBabbage</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679725884"><span class="annot"><a href="#local-6989586621679725884"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679725883"><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">IOLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679725884"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyCompatible"><span class="hs-identifier hs-type">ShelleyCompatible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BabbageEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BabbageEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ProtocolParamsShelleyBased"><span class="hs-identifier hs-type">ProtocolParamsShelleyBased</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BabbageEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-153"></span><span>  </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#ProtocolParamsBabbage"><span class="hs-identifier hs-type">ProtocolParamsBabbage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ProtocolInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679725884"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BabbageEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679725883"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span id="protocolInfoPraosBabbage"><span class="annot"><span class="annottext">protocolInfoPraosBabbage :: ProtocolParamsShelleyBased (BabbageEra c)
-&gt; ProtocolParamsBabbage c
-&gt; ProtocolInfo m (ShelleyBlock (Praos c) (BabbageEra c))
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#protocolInfoPraosBabbage"><span class="hs-identifier hs-var hs-var">protocolInfoPraosBabbage</span></a></span></span><span>
</span><span id="line-156"></span><span>  </span><span id="local-6989586621679725882"><span class="annot"><span class="annottext">ProtocolParamsShelleyBased (BabbageEra c)
</span><a href="#local-6989586621679725882"><span class="hs-identifier hs-var">protocolParamsShelleyBased</span></a></span></span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#ProtocolParamsBabbage"><span class="hs-identifier hs-type">ProtocolParamsBabbage</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">babbageProtVer :: forall c. ProtocolParamsBabbage c -&gt; ProtVer
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#babbageProtVer"><span class="hs-identifier hs-var">babbageProtVer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725881"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679725881"><span class="hs-identifier hs-var">protVer</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-159"></span><span>      </span><span class="annot"><span class="annottext">babbageMaxTxCapacityOverrides :: forall c.
ProtocolParamsBabbage c
-&gt; Overrides (ShelleyBlock (Praos c) (BabbageEra c))
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#babbageMaxTxCapacityOverrides"><span class="hs-identifier hs-var">babbageMaxTxCapacityOverrides</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725880"><span class="annot"><span class="annottext">Overrides (ShelleyBlock (Praos c) (BabbageEra c))
</span><a href="#local-6989586621679725880"><span class="hs-identifier hs-var">maxTxCapacityOverrides</span></a></span></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-161"></span><span>    </span><span class="annot"><span class="annottext">ProtocolParamsShelleyBased (BabbageEra c)
-&gt; TranslationContext (BabbageEra c)
-&gt; ProtVer
-&gt; Overrides (ShelleyBlock (Praos c) (BabbageEra c))
-&gt; ProtocolInfo m (ShelleyBlock (Praos c) (BabbageEra c))
forall (m :: * -&gt; *) era c.
(IOLike m, ShelleyCompatible (Praos c) era,
 TxLimits (ShelleyBlock (Praos c) era), c ~ EraCrypto era) =&gt;
ProtocolParamsShelleyBased era
-&gt; TranslationContext era
-&gt; ProtVer
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; ProtocolInfo m (ShelleyBlock (Praos c) era)
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#protocolInfoPraosShelleyBased"><span class="hs-identifier hs-var">protocolInfoPraosShelleyBased</span></a></span><span>
</span><span id="line-162"></span><span>      </span><span class="annot"><span class="annottext">ProtocolParamsShelleyBased (BabbageEra c)
</span><a href="#local-6989586621679725882"><span class="hs-identifier hs-var">protocolParamsShelleyBased</span></a></span><span>
</span><span id="line-163"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; AlonzoGenesis
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Babbage currently pretending to be Alonzo&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>      </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679725881"><span class="hs-identifier hs-var">protVer</span></a></span><span>
</span><span id="line-165"></span><span>      </span><span class="annot"><span class="annottext">Overrides (ShelleyBlock (Praos c) (BabbageEra c))
</span><a href="#local-6989586621679725880"><span class="hs-identifier hs-var">maxTxCapacityOverrides</span></a></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#protocolInfoPraosShelleyBased"><span class="hs-identifier hs-type">protocolInfoPraosShelleyBased</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679726035"><span class="annot"><a href="#local-6989586621679726035"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679726033"><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621679726034"><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">IOLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726035"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyCompatible"><span class="hs-identifier hs-type">ShelleyCompatible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-172"></span><span>    </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Eras.html#EraCrypto"><span class="hs-identifier hs-type">EraCrypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ProtocolParamsShelleyBased"><span class="hs-identifier hs-type">ProtocolParamsShelleyBased</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Core.TranslationContext</span></span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">SL.ProtVer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-177"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits.Overrides</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ProtocolInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726035"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span id="protocolInfoPraosShelleyBased"><span class="annot"><span class="annottext">protocolInfoPraosShelleyBased :: ProtocolParamsShelleyBased era
-&gt; TranslationContext era
-&gt; ProtVer
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; ProtocolInfo m (ShelleyBlock (Praos c) era)
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#protocolInfoPraosShelleyBased"><span class="hs-identifier hs-var hs-var">protocolInfoPraosShelleyBased</span></a></span></span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Node.Common.html#ProtocolParamsShelleyBased"><span class="hs-identifier hs-type">ProtocolParamsShelleyBased</span></a></span><span>
</span><span id="line-181"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">shelleyBasedGenesis :: forall era. ProtocolParamsShelleyBased era -&gt; ShelleyGenesis era
</span><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyBasedGenesis"><span class="hs-identifier hs-var">shelleyBasedGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725876"><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-182"></span><span>      </span><span class="annot"><span class="annottext">shelleyBasedInitialNonce :: forall era. ProtocolParamsShelleyBased era -&gt; Nonce
</span><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyBasedInitialNonce"><span class="hs-identifier hs-var">shelleyBasedInitialNonce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725874"><span class="annot"><span class="annottext">Nonce
</span><a href="#local-6989586621679725874"><span class="hs-identifier hs-var">initialNonce</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-183"></span><span>      </span><span class="annot"><span class="annottext">shelleyBasedLeaderCredentials :: forall era.
ProtocolParamsShelleyBased era
-&gt; [ShelleyLeaderCredentials (EraCrypto era)]
</span><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyBasedLeaderCredentials"><span class="hs-identifier hs-var">shelleyBasedLeaderCredentials</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679725872"><span class="annot"><span class="annottext">[ShelleyLeaderCredentials (EraCrypto era)]
</span><a href="#local-6989586621679725872"><span class="hs-identifier hs-var">credentialss</span></a></span></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621679725871"><span class="annot"><span class="annottext">TranslationContext era
</span><a href="#local-6989586621679725871"><span class="hs-identifier hs-var">transCtxt</span></a></span></span><span>
</span><span id="line-186"></span><span>  </span><span id="local-6989586621679725870"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679725870"><span class="hs-identifier hs-var">protVer</span></a></span></span><span>
</span><span id="line-187"></span><span>  </span><span id="local-6989586621679725869"><span class="annot"><span class="annottext">Overrides (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725869"><span class="hs-identifier hs-var">maxTxCapacityOverrides</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-188"></span><span>    </span><span class="annot"><span class="annottext">Either [Char] ()
-&gt; ProtocolInfo m (ShelleyBlock (Praos c) era)
-&gt; ProtocolInfo m (ShelleyBlock (Praos c) era)
forall a. HasCallStack =&gt; Either [Char] () -&gt; a -&gt; a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">assertWithMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; Either [Char] ()
forall era.
ShelleyBasedEra era =&gt;
ShelleyGenesis era -&gt; Either [Char] ()
</span><a href="Ouroboros.Consensus.Shelley.Node.TPraos.html#validateGenesis"><span class="hs-identifier hs-var">validateGenesis</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ProtocolInfo m (ShelleyBlock (Praos c) era)
 -&gt; ProtocolInfo m (ShelleyBlock (Praos c) era))
-&gt; ProtocolInfo m (ShelleyBlock (Praos c) era)
-&gt; ProtocolInfo m (ShelleyBlock (Praos c) era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><span class="annottext">ProtocolInfo :: forall (m :: * -&gt; *) b.
TopLevelConfig b
-&gt; ExtLedgerState b -&gt; m [BlockForging m b] -&gt; ProtocolInfo m b
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ProtocolInfo</span></a></span><span>
</span><span id="line-190"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pInfoConfig :: TopLevelConfig (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">pInfoConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TopLevelConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725866"><span class="hs-identifier hs-var">topLevelConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-191"></span><span>          </span><span class="annot"><span class="annottext">pInfoInitLedger :: ExtLedgerState (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">pInfoInitLedger</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtLedgerState (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725864"><span class="hs-identifier hs-var">initExtLedgerState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-192"></span><span>          </span><span class="annot"><span class="annottext">pInfoBlockForging :: m [BlockForging m (ShelleyBlock (Praos c) era)]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">pInfoBlockForging</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-193"></span><span>            </span><span class="annot"><span class="annottext">(ShelleyLeaderCredentials c
 -&gt; m (BlockForging m (ShelleyBlock (Praos c) era)))
-&gt; [ShelleyLeaderCredentials c]
-&gt; m [BlockForging m (ShelleyBlock (Praos c) era)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span>
</span><span id="line-194"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PraosParams
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; ShelleyLeaderCredentials (EraCrypto era)
-&gt; m (BlockForging m (ShelleyBlock (Praos c) era))
forall (m :: * -&gt; *) era c.
(ShelleyCompatible (Praos c) era, c ~ EraCrypto era,
 TxLimits (ShelleyBlock (Praos c) era), IOLike m) =&gt;
PraosParams
-&gt; Overrides (ShelleyBlock (Praos c) era)
-&gt; ShelleyLeaderCredentials (EraCrypto era)
-&gt; m (BlockForging m (ShelleyBlock (Praos c) era))
</span><a href="Ouroboros.Consensus.Shelley.Node.Praos.html#praosBlockForging"><span class="hs-identifier hs-var">praosBlockForging</span></a></span><span> </span><span class="annot"><span class="annottext">PraosParams
</span><a href="#local-6989586621679725861"><span class="hs-identifier hs-var">praosParams</span></a></span><span> </span><span class="annot"><span class="annottext">Overrides (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725869"><span class="hs-identifier hs-var">maxTxCapacityOverrides</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>              </span><span class="annot"><span class="annottext">[ShelleyLeaderCredentials c]
[ShelleyLeaderCredentials (EraCrypto era)]
</span><a href="#local-6989586621679725872"><span class="hs-identifier hs-var">credentialss</span></a></span><span>
</span><span id="line-196"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><a href="#local-6989586621679725860"><span class="hs-identifier hs-type">additionalGenesisConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.AdditionalGenesisConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span id="local-6989586621679725860"><span class="annot"><span class="annottext">additionalGenesisConfig :: AdditionalGenesisConfig era
</span><a href="#local-6989586621679725860"><span class="hs-identifier hs-var hs-var">additionalGenesisConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AdditionalGenesisConfig era
TranslationContext era
</span><a href="#local-6989586621679725871"><span class="hs-identifier hs-var">transCtxt</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><a href="#local-6989586621679725859"><span class="hs-identifier hs-type">maxMajorProtVer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">MaxMajorProtVer</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span id="local-6989586621679725859"><span class="annot"><span class="annottext">maxMajorProtVer :: MaxMajorProtVer
</span><a href="#local-6989586621679725859"><span class="hs-identifier hs-var hs-var">maxMajorProtVer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; MaxMajorProtVer
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">MaxMajorProtVer</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; MaxMajorProtVer) -&gt; Natural -&gt; MaxMajorProtVer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; Natural
</span><span class="hs-identifier hs-var hs-var">SL.pvMajor</span></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679725870"><span class="hs-identifier hs-var">protVer</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>      </span><span class="annot"><a href="#local-6989586621679725866"><span class="hs-identifier hs-type">topLevelConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TopLevelConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>      </span><span id="local-6989586621679725866"><span class="annot"><span class="annottext">topLevelConfig :: TopLevelConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725866"><span class="hs-identifier hs-var hs-var">topLevelConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-206"></span><span>        </span><span class="annot"><span class="annottext">TopLevelConfig :: forall blk.
ConsensusConfig (BlockProtocol blk)
-&gt; LedgerConfig blk
-&gt; BlockConfig blk
-&gt; CodecConfig blk
-&gt; StorageConfig blk
-&gt; TopLevelConfig blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TopLevelConfig</span></a></span><span>
</span><span id="line-207"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">topLevelConfigProtocol :: ConsensusConfig (BlockProtocol (ShelleyBlock (Praos c) era))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">topLevelConfigProtocol</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConsensusConfig (BlockProtocol (ShelleyBlock (Praos c) era))
</span><a href="#local-6989586621679725855"><span class="hs-identifier hs-var">consensusConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-208"></span><span>            </span><span class="annot"><span class="annottext">topLevelConfigLedger :: LedgerConfig (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">topLevelConfigLedger</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725853"><span class="hs-identifier hs-var">ledgerConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-209"></span><span>            </span><span class="annot"><span class="annottext">topLevelConfigBlock :: BlockConfig (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">topLevelConfigBlock</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725851"><span class="hs-identifier hs-var">blockConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-210"></span><span>            </span><span class="annot"><span class="annottext">topLevelConfigCodec :: CodecConfig (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">topLevelConfigCodec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CodecConfig (ShelleyBlock (Praos c) era)
forall proto era. CodecConfig (ShelleyBlock proto era)
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Config.html#ShelleyCodecConfig"><span class="hs-identifier hs-var">ShelleyCodecConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>            </span><span class="annot"><span class="annottext">topLevelConfigStorage :: StorageConfig (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">topLevelConfigStorage</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StorageConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725848"><span class="hs-identifier hs-var">storageConfig</span></a></span><span>
</span><span id="line-212"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span>      </span><span class="annot"><a href="#local-6989586621679725855"><span class="hs-identifier hs-type">consensusConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ConsensusConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockProtocol</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>      </span><span id="local-6989586621679725855"><span class="annot"><span class="annottext">consensusConfig :: ConsensusConfig (BlockProtocol (ShelleyBlock (Praos c) era))
</span><a href="#local-6989586621679725855"><span class="hs-identifier hs-var hs-var">consensusConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-216"></span><span>        </span><span class="annot"><span class="annottext">PraosConfig :: forall c.
PraosParams
-&gt; EpochInfo (Except PastHorizonException)
-&gt; ConsensusConfig (Praos c)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">PraosConfig</span></a></span><span>
</span><span id="line-217"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">PraosParams
praosParams :: PraosParams
praosParams :: PraosParams
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var hs-var">praosParams</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-218"></span><span>            </span><span class="annot"><span class="annottext">praosEpochInfo :: EpochInfo (Except PastHorizonException)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosEpochInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EpochInfo (Except PastHorizonException)
</span><a href="#local-6989586621679725844"><span class="hs-identifier hs-var">epochInfo</span></a></span><span>
</span><span id="line-219"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><a href="#local-6989586621679725853"><span class="hs-identifier hs-type">ledgerConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">LedgerConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>      </span><span id="local-6989586621679725853"><span class="annot"><span class="annottext">ledgerConfig :: LedgerConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725853"><span class="hs-identifier hs-var hs-var">ledgerConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
-&gt; TranslationContext era
-&gt; EpochInfo (Except PastHorizonException)
-&gt; MaxMajorProtVer
-&gt; ShelleyLedgerConfig era
forall era.
ShelleyGenesis era
-&gt; TranslationContext era
-&gt; EpochInfo (Except PastHorizonException)
-&gt; MaxMajorProtVer
-&gt; ShelleyLedgerConfig era
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#mkShelleyLedgerConfig"><span class="hs-identifier hs-var">mkShelleyLedgerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span> </span><span class="annot"><span class="annottext">TranslationContext era
</span><a href="#local-6989586621679725871"><span class="hs-identifier hs-var">transCtxt</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Except PastHorizonException)
</span><a href="#local-6989586621679725844"><span class="hs-identifier hs-var">epochInfo</span></a></span><span> </span><span class="annot"><span class="annottext">MaxMajorProtVer
</span><a href="#local-6989586621679725859"><span class="hs-identifier hs-var">maxMajorProtVer</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><a href="#local-6989586621679725844"><span class="hs-identifier hs-type">epochInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">EpochInfo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">Except</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">History.PastHorizonException</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>      </span><span id="local-6989586621679725844"><span class="annot"><span class="annottext">epochInfo :: EpochInfo (Except PastHorizonException)
</span><a href="#local-6989586621679725844"><span class="hs-identifier hs-var hs-var">epochInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><span class="annottext">EpochSize -&gt; SlotLength -&gt; EpochInfo (Except PastHorizonException)
forall (m :: * -&gt; *).
Monad m =&gt;
EpochSize -&gt; SlotLength -&gt; EpochInfo m
</span><span class="hs-identifier hs-var">fixedEpochInfo</span></span><span>
</span><span id="line-227"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; EpochSize
forall era. ShelleyGenesis era -&gt; EpochSize
</span><span class="hs-identifier hs-var hs-var">SL.sgEpochLength</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NominalDiffTime -&gt; SlotLength
</span><span class="hs-identifier hs-var">mkSlotLength</span></span><span> </span><span class="annot"><span class="annottext">(NominalDiffTime -&gt; SlotLength) -&gt; NominalDiffTime -&gt; SlotLength
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; NominalDiffTime
forall era. ShelleyGenesis era -&gt; NominalDiffTime
</span><span class="hs-identifier hs-var hs-var">SL.sgSlotLength</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><a href="#local-6989586621679725861"><span class="hs-identifier hs-type">praosParams</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">PraosParams</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span id="local-6989586621679725861"><span class="annot"><span class="annottext">praosParams :: PraosParams
</span><a href="#local-6989586621679725861"><span class="hs-identifier hs-var hs-var">praosParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-232"></span><span>        </span><span class="annot"><span class="annottext">PraosParams :: Word64
-&gt; ActiveSlotCoeff
-&gt; SecurityParam
-&gt; Word64
-&gt; Word64
-&gt; MaxMajorProtVer
-&gt; Word64
-&gt; Network
-&gt; SystemStart
-&gt; PraosParams
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">PraosParams</span></a></span><span>
</span><span id="line-233"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">praosSlotsPerKESPeriod :: Word64
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosSlotsPerKESPeriod</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; Word64
forall era. ShelleyGenesis era -&gt; Word64
</span><span class="hs-identifier hs-var hs-var">SL.sgSlotsPerKESPeriod</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-234"></span><span>            </span><span class="annot"><span class="annottext">praosLeaderF :: ActiveSlotCoeff
</span><a href="#local-6989586621679725840"><span class="hs-identifier hs-var">praosLeaderF</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PositiveUnitInterval -&gt; ActiveSlotCoeff
</span><span class="hs-identifier hs-var">SL.mkActiveSlotCoeff</span></span><span> </span><span class="annot"><span class="annottext">(PositiveUnitInterval -&gt; ActiveSlotCoeff)
-&gt; PositiveUnitInterval -&gt; ActiveSlotCoeff
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; PositiveUnitInterval
forall era. ShelleyGenesis era -&gt; PositiveUnitInterval
</span><span class="hs-identifier hs-var hs-var">SL.sgActiveSlotsCoeff</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-235"></span><span>            </span><span class="annot"><span class="annottext">praosSecurityParam :: SecurityParam
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosSecurityParam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SecurityParam
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">SecurityParam</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; SecurityParam) -&gt; Word64 -&gt; SecurityParam
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; Word64
forall era. ShelleyGenesis era -&gt; Word64
</span><span class="hs-identifier hs-var hs-var">SL.sgSecurityParam</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-236"></span><span>            </span><span class="annot"><span class="annottext">praosMaxKESEvo :: Word64
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosMaxKESEvo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; Word64
forall era. ShelleyGenesis era -&gt; Word64
</span><span class="hs-identifier hs-var hs-var">SL.sgMaxKESEvolutions</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-237"></span><span>            </span><span class="annot"><span class="annottext">praosQuorum :: Word64
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosQuorum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; Word64
forall era. ShelleyGenesis era -&gt; Word64
</span><span class="hs-identifier hs-var hs-var">SL.sgUpdateQuorum</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-238"></span><span>            </span><span class="annot"><span class="annottext">praosMaxMajorPV :: MaxMajorProtVer
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosMaxMajorPV</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaxMajorProtVer
</span><a href="#local-6989586621679725859"><span class="hs-identifier hs-var">maxMajorProtVer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-239"></span><span>            </span><span class="annot"><span class="annottext">praosMaxLovelaceSupply :: Word64
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosMaxLovelaceSupply</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; Word64
forall era. ShelleyGenesis era -&gt; Word64
</span><span class="hs-identifier hs-var hs-var">SL.sgMaxLovelaceSupply</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-240"></span><span>            </span><span class="annot"><span class="annottext">praosNetworkId :: Network
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosNetworkId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; Network
forall era. ShelleyGenesis era -&gt; Network
</span><span class="hs-identifier hs-var hs-var">SL.sgNetworkId</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-241"></span><span>            </span><span class="annot"><span class="annottext">praosSystemStart :: SystemStart
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosSystemStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; SystemStart
</span><span class="hs-identifier hs-var">SystemStart</span></span><span> </span><span class="annot"><span class="annottext">(UTCTime -&gt; SystemStart) -&gt; UTCTime -&gt; SystemStart
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era -&gt; UTCTime
forall era. ShelleyGenesis era -&gt; UTCTime
</span><span class="hs-identifier hs-var hs-var">SL.sgSystemStart</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span>
</span><span id="line-242"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span>      </span><span class="annot"><a href="#local-6989586621679725851"><span class="hs-identifier hs-type">blockConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>      </span><span id="local-6989586621679725851"><span class="annot"><span class="annottext">blockConfig :: BlockConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725851"><span class="hs-identifier hs-var hs-var">blockConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><span class="annottext">ProtVer
-&gt; ShelleyGenesis era
-&gt; [VKey 'BlockIssuer (EraCrypto era)]
-&gt; BlockConfig (ShelleyBlock (Praos c) era)
forall era proto.
ShelleyBasedEra era =&gt;
ProtVer
-&gt; ShelleyGenesis era
-&gt; [VKey 'BlockIssuer (EraCrypto era)]
-&gt; BlockConfig (ShelleyBlock proto era)
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Config.html#mkShelleyBlockConfig"><span class="hs-identifier hs-var">mkShelleyBlockConfig</span></a></span><span>
</span><span id="line-247"></span><span>          </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679725870"><span class="hs-identifier hs-var">protVer</span></a></span><span>
</span><span id="line-248"></span><span>          </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span>
</span><span id="line-249"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyLeaderCredentials c -&gt; VKey 'BlockIssuer c
forall c. ShelleyLeaderCredentials c -&gt; VKey 'BlockIssuer c
</span><a href="Ouroboros.Consensus.Shelley.Node.Common.html#shelleyBlockIssuerVKey"><span class="hs-identifier hs-var">shelleyBlockIssuerVKey</span></a></span><span> </span><span class="annot"><span class="annottext">(ShelleyLeaderCredentials c -&gt; VKey 'BlockIssuer c)
-&gt; [ShelleyLeaderCredentials c] -&gt; [VKey 'BlockIssuer c]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[ShelleyLeaderCredentials c]
[ShelleyLeaderCredentials (EraCrypto era)]
</span><a href="#local-6989586621679725872"><span class="hs-identifier hs-var">credentialss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span>      </span><span class="annot"><a href="#local-6989586621679725848"><span class="hs-identifier hs-type">storageConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">StorageConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>      </span><span id="local-6989586621679725848"><span class="annot"><span class="annottext">storageConfig :: StorageConfig (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725848"><span class="hs-identifier hs-var hs-var">storageConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-253"></span><span>        </span><span class="annot"><span class="annottext">ShelleyStorageConfig :: forall proto era.
Word64 -&gt; SecurityParam -&gt; StorageConfig (ShelleyBlock proto era)
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Config.html#ShelleyStorageConfig"><span class="hs-identifier hs-type">ShelleyStorageConfig</span></a></span><span>
</span><span id="line-254"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">shelleyStorageConfigSlotsPerKESPeriod :: Word64
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Config.html#shelleyStorageConfigSlotsPerKESPeriod"><span class="hs-identifier hs-var">shelleyStorageConfigSlotsPerKESPeriod</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PraosParams -&gt; Word64
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var hs-var">praosSlotsPerKESPeriod</span></a></span><span> </span><span class="annot"><span class="annottext">PraosParams
</span><a href="#local-6989586621679725861"><span class="hs-identifier hs-var">praosParams</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-255"></span><span>            </span><span class="annot"><span class="annottext">shelleyStorageConfigSecurityParam :: SecurityParam
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Config.html#shelleyStorageConfigSecurityParam"><span class="hs-identifier hs-var">shelleyStorageConfigSecurityParam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PraosParams -&gt; SecurityParam
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var hs-var">praosSecurityParam</span></a></span><span> </span><span class="annot"><span class="annottext">PraosParams
</span><a href="#local-6989586621679725861"><span class="hs-identifier hs-var">praosParams</span></a></span><span>
</span><span id="line-256"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>      </span><span class="annot"><a href="#local-6989586621679725823"><span class="hs-identifier hs-type">initLedgerState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>      </span><span id="local-6989586621679725823"><span class="annot"><span class="annottext">initLedgerState :: LedgerState (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725823"><span class="hs-identifier hs-var hs-var">initLedgerState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-260"></span><span>        </span><span class="annot"><span class="annottext">ShelleyLedgerState :: forall proto era.
WithOrigin (ShelleyTip proto era)
-&gt; NewEpochState era
-&gt; ShelleyTransition
-&gt; LedgerState (ShelleyBlock proto era)
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#ShelleyLedgerState"><span class="hs-identifier hs-type">ShelleyLedgerState</span></a></span><span>
</span><span id="line-261"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">shelleyLedgerTip :: WithOrigin (ShelleyTip (Praos c) era)
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#shelleyLedgerTip"><span class="hs-identifier hs-var">shelleyLedgerTip</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WithOrigin (ShelleyTip (Praos c) era)
forall t. WithOrigin t
</span><span class="hs-identifier hs-var">Origin</span></span><span class="hs-special">,</span><span>
</span><span id="line-262"></span><span>            </span><span class="annot"><span class="annottext">shelleyLedgerState :: NewEpochState era
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#shelleyLedgerState"><span class="hs-identifier hs-var">shelleyLedgerState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
-&gt; AdditionalGenesisConfig era -&gt; NewEpochState era
forall era.
CanStartFromGenesis era =&gt;
ShelleyGenesis era
-&gt; AdditionalGenesisConfig era -&gt; NewEpochState era
</span><span class="hs-identifier hs-var">SL.initialState</span></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era
</span><a href="#local-6989586621679725876"><span class="hs-identifier hs-var">genesis</span></a></span><span> </span><span class="annot"><span class="annottext">AdditionalGenesisConfig era
</span><a href="#local-6989586621679725860"><span class="hs-identifier hs-var">additionalGenesisConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-263"></span><span>            </span><span class="annot"><span class="annottext">shelleyLedgerTransition :: ShelleyTransition
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#shelleyLedgerTransition"><span class="hs-identifier hs-var">shelleyLedgerTransition</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyTransitionInfo :: Word32 -&gt; ShelleyTransition
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#ShelleyTransitionInfo"><span class="hs-identifier hs-type">ShelleyTransitionInfo</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">shelleyAfterVoting :: Word32
</span><a href="Ouroboros.Consensus.Shelley.Ledger.Ledger.html#shelleyAfterVoting"><span class="hs-identifier hs-var">shelleyAfterVoting</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32
</span><span class="hs-number">0</span></span><span class="hs-special">}</span><span>
</span><span id="line-264"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>      </span><span class="annot"><a href="#local-6989586621679725814"><span class="hs-identifier hs-type">initChainDepState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">PraosState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-267"></span><span>      </span><span id="local-6989586621679725814"><span class="annot"><span class="annottext">initChainDepState :: PraosState c
</span><a href="#local-6989586621679725814"><span class="hs-identifier hs-var hs-var">initChainDepState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-268"></span><span>        </span><span class="annot"><span class="annottext">PraosState :: forall c.
WithOrigin SlotNo
-&gt; Map (KeyHash 'BlockIssuer c) Word64
-&gt; Nonce
-&gt; Nonce
-&gt; Nonce
-&gt; Nonce
-&gt; Nonce
-&gt; PraosState c
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">PraosState</span></a></span><span>
</span><span id="line-269"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">praosStateLastSlot :: WithOrigin SlotNo
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosStateLastSlot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WithOrigin SlotNo
forall t. WithOrigin t
</span><span class="hs-identifier hs-var">Origin</span></span><span class="hs-special">,</span><span>
</span><span id="line-270"></span><span>            </span><span class="annot"><span class="annottext">praosStateOCertCounters :: Map (KeyHash 'BlockIssuer c) Word64
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosStateOCertCounters</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (KeyHash 'BlockIssuer c) Word64
forall a. Monoid a =&gt; a
</span><a href="../file:///home/runner/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-271"></span><span>            </span><span class="annot"><span class="annottext">praosStateEvolvingNonce :: Nonce
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosStateEvolvingNonce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nonce
</span><a href="#local-6989586621679725874"><span class="hs-identifier hs-var">initialNonce</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-272"></span><span>            </span><span class="annot"><span class="annottext">praosStateCandidateNonce :: Nonce
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosStateCandidateNonce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nonce
</span><a href="#local-6989586621679725874"><span class="hs-identifier hs-var">initialNonce</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-273"></span><span>            </span><span class="annot"><span class="annottext">praosStateEpochNonce :: Nonce
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosStateEpochNonce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nonce
</span><a href="#local-6989586621679725874"><span class="hs-identifier hs-var">initialNonce</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-274"></span><span>            </span><span class="annot"><span class="annottext">praosStateLabNonce :: Nonce
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosStateLabNonce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nonce
</span><a href="#local-6989586621679725874"><span class="hs-identifier hs-var">initialNonce</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-275"></span><span>            </span><span class="annot"><span class="annottext">praosStateLastEpochBlockNonce :: Nonce
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-var">praosStateLastEpochBlockNonce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nonce
</span><a href="#local-6989586621679725874"><span class="hs-identifier hs-var">initialNonce</span></a></span><span>
</span><span id="line-276"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span>      </span><span class="annot"><a href="#local-6989586621679725864"><span class="hs-identifier hs-type">initExtLedgerState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ExtLedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Ouroboros.Consensus.Shelley.Ledger.Block.html#ShelleyBlock"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-protocol-0.1.0.0/noopt/doc/html/ouroboros-consensus-protocol/src"><span class="hs-identifier hs-type">Praos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679726034"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679726033"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>      </span><span id="local-6989586621679725864"><span class="annot"><span class="annottext">initExtLedgerState :: ExtLedgerState (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725864"><span class="hs-identifier hs-var hs-var">initExtLedgerState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-280"></span><span>        </span><span class="annot"><span class="annottext">ExtLedgerState :: forall blk.
LedgerState blk -&gt; HeaderState blk -&gt; ExtLedgerState blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ExtLedgerState</span></a></span><span>
</span><span id="line-281"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ledgerState :: LedgerState (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">ledgerState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LedgerState (ShelleyBlock (Praos c) era)
</span><a href="#local-6989586621679725823"><span class="hs-identifier hs-var">initLedgerState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-282"></span><span>            </span><span class="annot"><span class="annottext">headerState :: HeaderState (ShelleyBlock (Praos c) era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">headerState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WithOrigin (AnnTip (ShelleyBlock (Praos c) era))
-&gt; ChainDepState (BlockProtocol (ShelleyBlock (Praos c) era))
-&gt; HeaderState (ShelleyBlock (Praos c) era)
forall blk.
WithOrigin (AnnTip blk)
-&gt; ChainDepState (BlockProtocol blk) -&gt; HeaderState blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">HeaderState</span></a></span><span> </span><span class="annot"><span class="annottext">WithOrigin (AnnTip (ShelleyBlock (Praos c) era))
forall t. WithOrigin t
</span><span class="hs-identifier hs-var">Origin</span></span><span> </span><span class="annot"><span class="annottext">ChainDepState (BlockProtocol (ShelleyBlock (Praos c) era))
PraosState c
</span><a href="#local-6989586621679725814"><span class="hs-identifier hs-var">initChainDepState</span></a></span><span>
</span><span id="line-283"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-284"></span></pre></body></html>