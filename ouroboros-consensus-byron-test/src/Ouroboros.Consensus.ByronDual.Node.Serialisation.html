<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE EmptyCase             #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase            #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies          #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Ouroboros.Consensus.ByronDual.Node.Serialisation</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/bytestring-0.10.12.0/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lazy</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Proxy</span></a></span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Cardano.Chain.Slotting</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">EpochSlots</span></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier">Ouroboros.Network.Block</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier">Serialised</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier">unwrapCBORinCBOR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>                     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier">wrapCBORinCBOR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Block</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HeaderValidation</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Ledger.Abstract</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Ledger.Dual</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Ledger.SupportsMempool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">GenTxId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Node.NetworkProtocolVersion</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Node.Run</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Node.Serialisation</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Protocol.PBFT.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">PBftState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Storage.Serialisation</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier">Ouroboros.Consensus.Byron.Ledger</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier">Ouroboros.Consensus.Byron.Node.Serialisation</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier">Ouroboros.Consensus.Byron.Protocol</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byronspec-0.4.0.0/noopt/doc/html/ouroboros-consensus-byronspec/src"><span class="hs-identifier">Ouroboros.Consensus.ByronSpec.Ledger</span></a></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html"><span class="hs-identifier">Ouroboros.Consensus.ByronDual.Ledger</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  HasNetworkProtocolVersion
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#pb"><span class="hs-identifier hs-type">pb</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">ByronBlock</span></a></span><span>
</span><span id="line-41"></span><span id="pb"><span class="annot"><span class="annottext">pb :: Proxy ByronBlock
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#pb"><span class="hs-identifier hs-var hs-var">pb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ByronBlock
forall k (t :: k). Proxy t
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HasNetworkProtocolVersion</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="BlockNodeToNodeVersion"><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">BlockNodeToNodeVersion</span></a></span></span><span>   </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockNodeToNodeVersion</span></a></span><span>   </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">ByronBlock</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="BlockNodeToClientVersion"><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">BlockNodeToClientVersion</span></a></span></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockNodeToClientVersion</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">ByronBlock</span></a></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SupportedNetworkProtocolVersion</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-48"></span><span>  </span><span id="local-6989586621679242416"><span class="annot"><span class="annottext">supportedNodeToNodeVersions :: Proxy DualByronBlock
-&gt; Map NodeToNodeVersion (BlockNodeToNodeVersion DualByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">supportedNodeToNodeVersions</span></a></span></span><span>     </span><span class="annot"><span class="annottext">Proxy DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ByronBlock
-&gt; Map NodeToNodeVersion (BlockNodeToNodeVersion ByronBlock)
forall blk.
SupportedNetworkProtocolVersion blk =&gt;
Proxy blk -&gt; Map NodeToNodeVersion (BlockNodeToNodeVersion blk)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">supportedNodeToNodeVersions</span></a></span><span>     </span><span class="annot"><span class="annottext">Proxy ByronBlock
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#pb"><span class="hs-identifier hs-var">pb</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span id="local-6989586621679242414"><span class="annot"><span class="annottext">supportedNodeToClientVersions :: Proxy DualByronBlock
-&gt; Map
     NodeToClientVersion (BlockNodeToClientVersion DualByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">supportedNodeToClientVersions</span></a></span></span><span>   </span><span class="annot"><span class="annottext">Proxy DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ByronBlock
-&gt; Map NodeToClientVersion (BlockNodeToClientVersion ByronBlock)
forall blk.
SupportedNetworkProtocolVersion blk =&gt;
Proxy blk -&gt; Map NodeToClientVersion (BlockNodeToClientVersion blk)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">supportedNodeToClientVersions</span></a></span><span>   </span><span class="annot"><span class="annottext">Proxy ByronBlock
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#pb"><span class="hs-identifier hs-var">pb</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>  </span><span id="local-6989586621679242412"><span class="annot"><span class="annottext">latestReleasedNodeVersion :: Proxy DualByronBlock
-&gt; (Maybe NodeToNodeVersion, Maybe NodeToClientVersion)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">latestReleasedNodeVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy DualByronBlock
-&gt; (Maybe NodeToNodeVersion, Maybe NodeToClientVersion)
forall blk.
SupportedNetworkProtocolVersion blk =&gt;
Proxy blk -&gt; (Maybe NodeToNodeVersion, Maybe NodeToClientVersion)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">latestReleasedNodeVersionDefault</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  EncodeDisk &amp; DecodeDisk
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseDiskConstraints</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EncodeDisk</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-60"></span><span>  </span><span id="local-6989586621679242402"><span class="annot"><span class="annottext">encodeDisk :: CodecConfig DualByronBlock -&gt; DualByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeDisk</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ByronBlock -&gt; Encoding) -&gt; DualByronBlock -&gt; Encoding
forall m a.
(Bridge m a, Serialise a) =&gt;
(m -&gt; Encoding) -&gt; DualBlock m a -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualBlock</span></a></span><span> </span><span class="annot"><span class="annottext">ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronBlock</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">DecodeDisk</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/bytestring-0.10.12.0/src"><span class="hs-identifier hs-type">Lazy.ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-62"></span><span>  </span><span id="local-6989586621679242396"><span class="annot"><span class="annottext">decodeDisk :: CodecConfig DualByronBlock
-&gt; forall s. Decoder s (ByteString -&gt; DualByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeDisk</span></a></span></span><span> </span><span id="local-6989586621679242394"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242394"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (ByteString -&gt; ByronBlock)
-&gt; Decoder s (ByteString -&gt; DualByronBlock)
forall m a s.
(Bridge m a, Serialise a) =&gt;
Decoder s (ByteString -&gt; m)
-&gt; Decoder s (ByteString -&gt; DualBlock m a)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpochSlots -&gt; Decoder s (ByteString -&gt; ByronBlock)
forall s. EpochSlots -&gt; Decoder s (ByteString -&gt; ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronBlock</span></a></span><span> </span><span class="annot"><span class="annottext">EpochSlots
</span><a href="#local-6989586621679242391"><span class="hs-identifier hs-var">epochSlots</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-64"></span><span>      </span><span id="local-6989586621679242391"><span class="annot"><span class="annottext">epochSlots :: EpochSlots
</span><a href="#local-6989586621679242391"><span class="hs-identifier hs-var hs-var">epochSlots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; EpochSlots
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#extractEpochSlots"><span class="hs-identifier hs-var">extractEpochSlots</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242394"><span class="hs-identifier hs-var">ccfg</span></a></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">DecodeDiskDep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">NestedCtxt</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">Header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>  </span><span id="local-6989586621679242387"><span class="annot"><span class="annottext">decodeDiskDep :: CodecConfig DualByronBlock
-&gt; NestedCtxt Header DualByronBlock a
-&gt; forall s. Decoder s (ByteString -&gt; a)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeDiskDep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">DualCodecConfig</span></a></span><span> </span><span id="local-6989586621679242384"><span class="annot"><a href="#local-6989586621679242384"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byronspec-0.4.0.0/noopt/doc/html/ouroboros-consensus-byronspec/src"><span class="hs-identifier hs-type">ByronSpecCodecConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>                </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">NestedCtxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">CtxtDual</span></a></span><span> </span><span id="local-6989586621679242380"><span class="annot"><a href="#local-6989586621679242380"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-69"></span><span>      </span><span class="annot"><span class="annottext">CodecConfig ByronBlock
-&gt; NestedCtxt Header ByronBlock a
-&gt; forall s. Decoder s (ByteString -&gt; a)
forall (f :: * -&gt; * -&gt; *) blk a.
DecodeDiskDep f blk =&gt;
CodecConfig blk -&gt; f blk a -&gt; forall s. Decoder s (ByteString -&gt; a)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDiskDep</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig ByronBlock
</span><a href="#local-6989586621679242384"><span class="hs-identifier hs-var">ccfg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NestedCtxt_ ByronBlock Header a -&gt; NestedCtxt Header ByronBlock a
forall (f :: * -&gt; *) blk a.
NestedCtxt_ blk f a -&gt; NestedCtxt f blk a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">NestedCtxt</span></a></span><span> </span><span class="annot"><span class="annottext">NestedCtxt_ ByronBlock Header a
</span><a href="#local-6989586621679242380"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EncodeDisk</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">LedgerState</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>  </span><span id="local-6989586621679242378"><span class="annot"><span class="annottext">encodeDisk :: CodecConfig DualByronBlock
-&gt; LedgerState DualByronBlock -&gt; Encoding
</span><a href="#local-6989586621679242378"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeDisk</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LedgerState ByronBlock -&gt; Encoding)
-&gt; LedgerState DualByronBlock -&gt; Encoding
forall m a.
(Bridge m a, Serialise (LedgerState a)) =&gt;
(LedgerState m -&gt; Encoding)
-&gt; LedgerState (DualBlock m a) -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualLedgerState</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronLedgerState</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">DecodeDisk</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">LedgerState</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>  </span><span id="local-6989586621679242374"><span class="annot"><span class="annottext">decodeDisk :: CodecConfig DualByronBlock
-&gt; forall s. Decoder s (LedgerState DualByronBlock)
</span><a href="#local-6989586621679242374"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeDisk</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (LedgerState ByronBlock)
-&gt; Decoder s (LedgerState DualByronBlock)
forall m a s.
(Bridge m a, Serialise (LedgerState a)) =&gt;
Decoder s (LedgerState m)
-&gt; Decoder s (LedgerState (DualBlock m a))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualLedgerState</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s (LedgerState ByronBlock)
forall s. Decoder s (LedgerState ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronLedgerState</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | @'ChainDepState' ('BlockProtocol' 'DualByronBlock')@</span><span>
</span><span id="line-77"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EncodeDisk</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">PBftState</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">PBftByronCrypto</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621679242370"><span class="annot"><span class="annottext">encodeDisk :: CodecConfig DualByronBlock -&gt; PBftState PBftByronCrypto -&gt; Encoding
</span><a href="#local-6989586621679242370"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeDisk</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PBftState PBftByronCrypto -&gt; Encoding
ChainDepState (BlockProtocol ByronBlock) -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronChainDepState</span></a></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- | @'ChainDepState' ('BlockProtocol' 'DualByronBlock')@</span><span>
</span><span id="line-80"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">DecodeDisk</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">PBftState</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">PBftByronCrypto</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-81"></span><span>  </span><span id="local-6989586621679242367"><span class="annot"><span class="annottext">decodeDisk :: CodecConfig DualByronBlock
-&gt; forall s. Decoder s (PBftState PBftByronCrypto)
</span><a href="#local-6989586621679242367"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeDisk</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (PBftState PBftByronCrypto)
forall s. Decoder s (ChainDepState (BlockProtocol ByronBlock))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronChainDepState</span></a></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EncodeDisk</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">AnnTip</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-84"></span><span>  </span><span id="local-6989586621679242364"><span class="annot"><span class="annottext">encodeDisk :: CodecConfig DualByronBlock -&gt; AnnTip DualByronBlock -&gt; Encoding
</span><a href="#local-6989586621679242364"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeDisk</span></a></span></span><span> </span><span id="local-6989586621679242363"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242363"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CodecConfig ByronBlock -&gt; AnnTip ByronBlock -&gt; Encoding
forall blk a. EncodeDisk blk a =&gt; CodecConfig blk -&gt; a -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDisk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; CodecConfig ByronBlock
forall m a. CodecConfig (DualBlock m a) -&gt; CodecConfig m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualCodecConfigMain</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242363"><span class="hs-identifier hs-var">ccfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>                  </span><span class="annot"><span class="annottext">(AnnTip ByronBlock -&gt; Encoding)
-&gt; (AnnTip DualByronBlock -&gt; AnnTip ByronBlock)
-&gt; AnnTip DualByronBlock
-&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnTip DualByronBlock -&gt; AnnTip ByronBlock
forall blk blk'.
(TipInfo blk ~ TipInfo blk') =&gt;
AnnTip blk -&gt; AnnTip blk'
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">castAnnTip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">AnnTip</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">AnnTip</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">ByronBlock</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">DecodeDisk</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">AnnTip</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>  </span><span id="local-6989586621679242358"><span class="annot"><span class="annottext">decodeDisk :: CodecConfig DualByronBlock
-&gt; forall s. Decoder s (AnnTip DualByronBlock)
</span><a href="#local-6989586621679242358"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeDisk</span></a></span></span><span> </span><span id="local-6989586621679242357"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242357"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnTip ByronBlock -&gt; AnnTip DualByronBlock
forall blk blk'.
(TipInfo blk ~ TipInfo blk') =&gt;
AnnTip blk -&gt; AnnTip blk'
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">castAnnTip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">AnnTip</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">ByronBlock</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">AnnTip</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>                </span><span class="annot"><span class="annottext">(AnnTip ByronBlock -&gt; AnnTip DualByronBlock)
-&gt; Decoder s (AnnTip ByronBlock)
-&gt; Decoder s (AnnTip DualByronBlock)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig ByronBlock -&gt; forall s. Decoder s (AnnTip ByronBlock)
forall blk a.
DecodeDisk blk a =&gt;
CodecConfig blk -&gt; forall s. Decoder s a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDisk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; CodecConfig ByronBlock
forall m a. CodecConfig (DualBlock m a) -&gt; CodecConfig m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualCodecConfigMain</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242357"><span class="hs-identifier hs-var">ccfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  SerialiseNodeToNode
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToNodeConstraints</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-comment">-- We don't enforce this estimate, so we just reuse the estimate from the</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-comment">-- concrete header.</span><span>
</span><span id="line-97"></span><span>  </span><span id="local-6989586621679242346"><span class="annot"><span class="annottext">estimateBlockSize :: Header DualByronBlock -&gt; SizeInBytes
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">estimateBlockSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Header ByronBlock -&gt; SizeInBytes
forall blk.
SerialiseNodeToNodeConstraints blk =&gt;
Header blk -&gt; SizeInBytes
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">estimateBlockSize</span></a></span><span> </span><span class="annot"><span class="annottext">(Header ByronBlock -&gt; SizeInBytes)
-&gt; (Header DualByronBlock -&gt; Header ByronBlock)
-&gt; Header DualByronBlock
-&gt; SizeInBytes
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Header DualByronBlock -&gt; Header ByronBlock
forall m a. Header (DualBlock m a) -&gt; Header m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualHeaderMain</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- | CBOR-in-CBOR for the annotation. This also makes it compatible with the</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- wrapped ('Serialised') variant.</span><span>
</span><span id="line-101"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToNode</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>  </span><span id="local-6989586621679242340"><span class="annot"><span class="annottext">encodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; DualByronBlock
-&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToNode</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span>    </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DualByronBlock -&gt; Encoding) -&gt; DualByronBlock -&gt; Encoding
forall a. (a -&gt; Encoding) -&gt; a -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier hs-var">wrapCBORinCBOR</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ByronBlock -&gt; Encoding) -&gt; DualByronBlock -&gt; Encoding
forall m a.
(Bridge m a, Serialise a) =&gt;
(m -&gt; Encoding) -&gt; DualBlock m a -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualBlock</span></a></span><span>  </span><span class="annot"><span class="annottext">ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronBlock</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>  </span><span id="local-6989586621679242338"><span class="annot"><span class="annottext">decodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; forall s. Decoder s DualByronBlock
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToNode</span></a></span></span><span> </span><span id="local-6989586621679242336"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242336"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s (ByteString -&gt; DualByronBlock))
-&gt; forall s. Decoder s DualByronBlock
forall a.
(forall s. Decoder s (ByteString -&gt; a)) -&gt; forall s. Decoder s a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier hs-var">unwrapCBORinCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decoder s (ByteString -&gt; ByronBlock)
-&gt; Decoder s (ByteString -&gt; DualByronBlock)
forall m a s.
(Bridge m a, Serialise a) =&gt;
Decoder s (ByteString -&gt; m)
-&gt; Decoder s (ByteString -&gt; DualBlock m a)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpochSlots -&gt; Decoder s (ByteString -&gt; ByronBlock)
forall s. EpochSlots -&gt; Decoder s (ByteString -&gt; ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronBlock</span></a></span><span> </span><span class="annot"><span class="annottext">EpochSlots
</span><a href="#local-6989586621679242335"><span class="hs-identifier hs-var">epochSlots</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>      </span><span id="local-6989586621679242335"><span class="annot"><span class="annottext">epochSlots :: EpochSlots
</span><a href="#local-6989586621679242335"><span class="hs-identifier hs-var hs-var">epochSlots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; EpochSlots
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#extractEpochSlots"><span class="hs-identifier hs-var">extractEpochSlots</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242336"><span class="hs-identifier hs-var">ccfg</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- | CBOR-in-CBOR for the annotation. This also makes it compatible with the</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- wrapped ('Serialised') variant.</span><span>
</span><span id="line-109"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679242331"><span id="local-6989586621679242333"><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToNode</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier hs-type">Serialised</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-comment">-- Default instance</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">-- | Forward to the Byron instance.</span><span>
</span><span id="line-113"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToNode</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>  </span><span id="local-6989586621679242328"><span class="annot"><span class="annottext">encodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; Header DualByronBlock
-&gt; Encoding
</span><a href="#local-6989586621679242328"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToNode</span></a></span></span><span> </span><span id="local-6989586621679242327"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242327"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span id="local-6989586621679242326"><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><a href="#local-6989586621679242326"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-115"></span><span>        </span><span class="annot"><span class="annottext">CodecConfig ByronBlock
-&gt; BlockNodeToNodeVersion ByronBlock
-&gt; Header ByronBlock
-&gt; Encoding
forall blk a.
SerialiseNodeToNode blk a =&gt;
CodecConfig blk -&gt; BlockNodeToNodeVersion blk -&gt; a -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeNodeToNode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; CodecConfig ByronBlock
forall m a. CodecConfig (DualBlock m a) -&gt; CodecConfig m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualCodecConfigMain</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242327"><span class="hs-identifier hs-var">ccfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
BlockNodeToNodeVersion ByronBlock
</span><a href="#local-6989586621679242326"><span class="hs-identifier hs-var">version</span></a></span><span>
</span><span id="line-116"></span><span>      </span><span class="annot"><span class="annottext">(Header ByronBlock -&gt; Encoding)
-&gt; (Header DualByronBlock -&gt; Header ByronBlock)
-&gt; Header DualByronBlock
-&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Header DualByronBlock -&gt; Header ByronBlock
forall m a. Header (DualBlock m a) -&gt; Header m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualHeaderMain</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span id="local-6989586621679242325"><span class="annot"><span class="annottext">decodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; forall s. Decoder s (Header DualByronBlock)
</span><a href="#local-6989586621679242325"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToNode</span></a></span></span><span> </span><span id="local-6989586621679242324"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242324"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span id="local-6989586621679242323"><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><a href="#local-6989586621679242323"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-118"></span><span>          </span><span class="annot"><span class="annottext">Header ByronBlock -&gt; Header DualByronBlock
forall m a. Header m -&gt; Header (DualBlock m a)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">DualHeader</span></a></span><span>
</span><span id="line-119"></span><span>      </span><span class="annot"><span class="annottext">(Header ByronBlock -&gt; Header DualByronBlock)
-&gt; Decoder s (Header ByronBlock)
-&gt; Decoder s (Header DualByronBlock)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig ByronBlock
-&gt; BlockNodeToNodeVersion ByronBlock
-&gt; forall s. Decoder s (Header ByronBlock)
forall blk a.
SerialiseNodeToNode blk a =&gt;
CodecConfig blk
-&gt; BlockNodeToNodeVersion blk -&gt; forall s. Decoder s a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeNodeToNode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; CodecConfig ByronBlock
forall m a. CodecConfig (DualBlock m a) -&gt; CodecConfig m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualCodecConfigMain</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242324"><span class="hs-identifier hs-var">ccfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
BlockNodeToNodeVersion ByronBlock
</span><a href="#local-6989586621679242323"><span class="hs-identifier hs-var">version</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-comment">-- | Forward to the Byron instance.</span><span>
</span><span id="line-122"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToNode</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialisedHeader</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="local-6989586621679242319"><span class="annot"><span class="annottext">encodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; SerialisedHeader DualByronBlock
-&gt; Encoding
</span><a href="#local-6989586621679242319"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToNode</span></a></span></span><span> </span><span id="local-6989586621679242318"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242318"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span id="local-6989586621679242317"><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><a href="#local-6989586621679242317"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><span class="annottext">CodecConfig ByronBlock
-&gt; BlockNodeToNodeVersion ByronBlock
-&gt; SerialisedHeader ByronBlock
-&gt; Encoding
forall blk a.
SerialiseNodeToNode blk a =&gt;
CodecConfig blk -&gt; BlockNodeToNodeVersion blk -&gt; a -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeNodeToNode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; CodecConfig ByronBlock
forall m a. CodecConfig (DualBlock m a) -&gt; CodecConfig m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualCodecConfigMain</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242318"><span class="hs-identifier hs-var">ccfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
BlockNodeToNodeVersion ByronBlock
</span><a href="#local-6989586621679242317"><span class="hs-identifier hs-var">version</span></a></span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><span class="annottext">(SerialisedHeader ByronBlock -&gt; Encoding)
-&gt; (SerialisedHeader DualByronBlock -&gt; SerialisedHeader ByronBlock)
-&gt; SerialisedHeader DualByronBlock
-&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SerialisedHeader DualByronBlock -&gt; SerialisedHeader ByronBlock
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#dualWrappedMain"><span class="hs-identifier hs-var">dualWrappedMain</span></a></span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621679242315"><span class="annot"><span class="annottext">decodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; forall s. Decoder s (SerialisedHeader DualByronBlock)
</span><a href="#local-6989586621679242315"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToNode</span></a></span></span><span> </span><span id="local-6989586621679242314"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242314"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span id="local-6989586621679242313"><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><a href="#local-6989586621679242313"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-127"></span><span>          </span><span class="annot"><span class="annottext">SerialisedHeader ByronBlock -&gt; SerialisedHeader DualByronBlock
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#rewrapMain"><span class="hs-identifier hs-var">rewrapMain</span></a></span><span>
</span><span id="line-128"></span><span>      </span><span class="annot"><span class="annottext">(SerialisedHeader ByronBlock -&gt; SerialisedHeader DualByronBlock)
-&gt; Decoder s (SerialisedHeader ByronBlock)
-&gt; Decoder s (SerialisedHeader DualByronBlock)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig ByronBlock
-&gt; BlockNodeToNodeVersion ByronBlock
-&gt; forall s. Decoder s (SerialisedHeader ByronBlock)
forall blk a.
SerialiseNodeToNode blk a =&gt;
CodecConfig blk
-&gt; BlockNodeToNodeVersion blk -&gt; forall s. Decoder s a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeNodeToNode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; CodecConfig ByronBlock
forall m a. CodecConfig (DualBlock m a) -&gt; CodecConfig m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualCodecConfigMain</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242314"><span class="hs-identifier hs-var">ccfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
BlockNodeToNodeVersion ByronBlock
</span><a href="#local-6989586621679242313"><span class="hs-identifier hs-var">version</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToNode</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTx</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-131"></span><span>  </span><span id="local-6989586621679242309"><span class="annot"><span class="annottext">encodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; GenTx DualByronBlock
-&gt; Encoding
</span><a href="#local-6989586621679242309"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToNode</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenTx ByronBlock -&gt; Encoding) -&gt; GenTx DualByronBlock -&gt; Encoding
forall m a.
(Bridge m a, Serialise (GenTx a)) =&gt;
(GenTx m -&gt; Encoding) -&gt; GenTx (DualBlock m a) -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualGenTx</span></a></span><span> </span><span class="annot"><span class="annottext">GenTx ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronGenTx</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span id="local-6989586621679242306"><span class="annot"><span class="annottext">decodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; forall s. Decoder s (GenTx DualByronBlock)
</span><a href="#local-6989586621679242306"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToNode</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (GenTx ByronBlock) -&gt; Decoder s (GenTx DualByronBlock)
forall m a s.
(Bridge m a, Serialise (GenTx a)) =&gt;
Decoder s (GenTx m) -&gt; Decoder s (GenTx (DualBlock m a))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualGenTx</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s (GenTx ByronBlock)
forall s. Decoder s (GenTx ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronGenTx</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToNode</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTxId</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621679242301"><span class="annot"><span class="annottext">encodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; GenTxId DualByronBlock
-&gt; Encoding
</span><a href="#local-6989586621679242301"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToNode</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenTxId ByronBlock -&gt; Encoding)
-&gt; GenTxId DualByronBlock -&gt; Encoding
forall m a.
(GenTxId m -&gt; Encoding) -&gt; GenTxId (DualBlock m a) -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualGenTxId</span></a></span><span> </span><span class="annot"><span class="annottext">GenTxId ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronGenTxId</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span id="local-6989586621679242298"><span class="annot"><span class="annottext">decodeNodeToNode :: CodecConfig DualByronBlock
-&gt; BlockNodeToNodeVersion DualByronBlock
-&gt; forall s. Decoder s (GenTxId DualByronBlock)
</span><a href="#local-6989586621679242298"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToNode</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToNodeVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (GenTxId ByronBlock)
-&gt; Decoder s (GenTxId DualByronBlock)
forall s m a.
Decoder s (GenTxId m) -&gt; Decoder s (GenTxId (DualBlock m a))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualGenTxId</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s (GenTxId ByronBlock)
forall s. Decoder s (GenTxId ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronGenTxId</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  SerialiseNodeToClient
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToClientConstraints</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-comment">-- | CBOR-in-CBOR for the annotation. This also makes it compatible with the</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- wrapped ('Serialised') variant.</span><span>
</span><span id="line-146"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToClient</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>  </span><span id="local-6989586621679242281"><span class="annot"><span class="annottext">encodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; DualByronBlock
-&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span>    </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DualByronBlock -&gt; Encoding) -&gt; DualByronBlock -&gt; Encoding
forall a. (a -&gt; Encoding) -&gt; a -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier hs-var">wrapCBORinCBOR</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ByronBlock -&gt; Encoding) -&gt; DualByronBlock -&gt; Encoding
forall m a.
(Bridge m a, Serialise a) =&gt;
(m -&gt; Encoding) -&gt; DualBlock m a -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualBlock</span></a></span><span>  </span><span class="annot"><span class="annottext">ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronBlock</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>  </span><span id="local-6989586621679242279"><span class="annot"><span class="annottext">decodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; forall s. Decoder s DualByronBlock
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToClient</span></a></span></span><span> </span><span id="local-6989586621679242277"><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242277"><span class="hs-identifier hs-var">ccfg</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s (ByteString -&gt; DualByronBlock))
-&gt; forall s. Decoder s DualByronBlock
forall a.
(forall s. Decoder s (ByteString -&gt; a)) -&gt; forall s. Decoder s a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier hs-var">unwrapCBORinCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decoder s (ByteString -&gt; ByronBlock)
-&gt; Decoder s (ByteString -&gt; DualByronBlock)
forall m a s.
(Bridge m a, Serialise a) =&gt;
Decoder s (ByteString -&gt; m)
-&gt; Decoder s (ByteString -&gt; DualBlock m a)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpochSlots -&gt; Decoder s (ByteString -&gt; ByronBlock)
forall s. EpochSlots -&gt; Decoder s (ByteString -&gt; ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronBlock</span></a></span><span> </span><span class="annot"><span class="annottext">EpochSlots
</span><a href="#local-6989586621679242276"><span class="hs-identifier hs-var">epochSlots</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>      </span><span id="local-6989586621679242276"><span class="annot"><span class="annottext">epochSlots :: EpochSlots
</span><a href="#local-6989586621679242276"><span class="hs-identifier hs-var hs-var">epochSlots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; EpochSlots
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#extractEpochSlots"><span class="hs-identifier hs-var">extractEpochSlots</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><a href="#local-6989586621679242277"><span class="hs-identifier hs-var">ccfg</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-comment">-- | CBOR-in-CBOR for the annotation. This also makes it compatible with the</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- wrapped ('Serialised') variant.</span><span>
</span><span id="line-154"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679242272"><span id="local-6989586621679242274"><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToClient</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/src"><span class="hs-identifier hs-type">Serialised</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-comment">-- Default instance</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToClient</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTx</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-158"></span><span>  </span><span id="local-6989586621679242269"><span class="annot"><span class="annottext">encodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; GenTx DualByronBlock
-&gt; Encoding
</span><a href="#local-6989586621679242269"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenTx ByronBlock -&gt; Encoding) -&gt; GenTx DualByronBlock -&gt; Encoding
forall m a.
(Bridge m a, Serialise (GenTx a)) =&gt;
(GenTx m -&gt; Encoding) -&gt; GenTx (DualBlock m a) -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualGenTx</span></a></span><span> </span><span class="annot"><span class="annottext">GenTx ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronGenTx</span></a></span><span>
</span><span id="line-159"></span><span>  </span><span id="local-6989586621679242268"><span class="annot"><span class="annottext">decodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; forall s. Decoder s (GenTx DualByronBlock)
</span><a href="#local-6989586621679242268"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (GenTx ByronBlock) -&gt; Decoder s (GenTx DualByronBlock)
forall m a s.
(Bridge m a, Serialise (GenTx a)) =&gt;
Decoder s (GenTx m) -&gt; Decoder s (GenTx (DualBlock m a))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualGenTx</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s (GenTx ByronBlock)
forall s. Decoder s (GenTx ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronGenTx</span></a></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToClient</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTxId</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-162"></span><span>  </span><span id="local-6989586621679242265"><span class="annot"><span class="annottext">encodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; GenTxId DualByronBlock
-&gt; Encoding
</span><a href="#local-6989586621679242265"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenTxId ByronBlock -&gt; Encoding)
-&gt; GenTxId DualByronBlock -&gt; Encoding
forall m a.
(GenTxId m -&gt; Encoding) -&gt; GenTxId (DualBlock m a) -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualGenTxId</span></a></span><span> </span><span class="annot"><span class="annottext">GenTxId ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronGenTxId</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span id="local-6989586621679242264"><span class="annot"><span class="annottext">decodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; forall s. Decoder s (GenTxId DualByronBlock)
</span><a href="#local-6989586621679242264"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (GenTxId ByronBlock)
-&gt; Decoder s (GenTxId DualByronBlock)
forall s m a.
Decoder s (GenTxId m) -&gt; Decoder s (GenTxId (DualBlock m a))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualGenTxId</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s (GenTxId ByronBlock)
forall s. Decoder s (GenTxId ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronGenTxId</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-comment">-- | @'ApplyTxErr' 'DualByronBlock'@</span><span>
</span><span id="line-166"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToClient</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">DualGenTxErr</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">ByronBlock</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byronspec-0.4.0.0/noopt/doc/html/ouroboros-consensus-byronspec/src"><span class="hs-identifier hs-type">ByronSpecBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679242261"><span class="annot"><span class="annottext">encodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; DualGenTxErr ByronBlock ByronSpecBlock
-&gt; Encoding
</span><a href="#local-6989586621679242261"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ApplyTxErr ByronBlock -&gt; Encoding)
-&gt; ApplyTxErr DualByronBlock -&gt; Encoding
forall a m.
Serialise (ApplyTxErr a) =&gt;
(ApplyTxErr m -&gt; Encoding)
-&gt; ApplyTxErr (DualBlock m a) -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">encodeDualGenTxErr</span></a></span><span> </span><span class="annot"><span class="annottext">ApplyTxErr ByronBlock -&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">encodeByronApplyTxError</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679242258"><span class="annot"><span class="annottext">decodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; forall s. Decoder s (DualGenTxErr ByronBlock ByronSpecBlock)
</span><a href="#local-6989586621679242258"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (ApplyTxErr ByronBlock)
-&gt; Decoder s (ApplyTxErr DualByronBlock)
forall a s m.
Serialise (ApplyTxErr a) =&gt;
Decoder s (ApplyTxErr m) -&gt; Decoder s (ApplyTxErr (DualBlock m a))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">decodeDualGenTxErr</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s (ApplyTxErr ByronBlock)
forall s. Decoder s (ApplyTxErr ByronBlock)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var">decodeByronApplyTxError</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToClient</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SomeSecond</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockQuery</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621679242253"><span class="annot"><span class="annottext">encodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; SomeSecond BlockQuery DualByronBlock
-&gt; Encoding
</span><a href="#local-6989586621679242253"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-172"></span><span>  </span><span id="local-6989586621679242252"><span class="annot"><span class="annottext">decodeNodeToClient :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; forall s. Decoder s (SomeSecond BlockQuery DualByronBlock)
</span><a href="#local-6989586621679242252"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeNodeToClient</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Decoder s (SomeSecond BlockQuery DualByronBlock)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;DualByron: no query to decode&quot;</span></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679242247"><span id="local-6989586621679242249"><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseNodeToClient</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SlotNo</span></span></span></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseResult</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockQuery</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621679242243"><span class="annot"><span class="annottext">encodeResult :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; BlockQuery DualByronBlock result
-&gt; result
-&gt; Encoding
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">encodeResult</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621679242241"><span class="annot"><span class="annottext">decodeResult :: CodecConfig DualByronBlock
-&gt; BlockNodeToClientVersion DualByronBlock
-&gt; BlockQuery DualByronBlock result
-&gt; forall s. Decoder s result
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">decodeResult</span></a></span></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNodeToClientVersion DualByronBlock
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  Auxiliary
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#extractEpochSlots"><span class="hs-identifier hs-type">extractEpochSlots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">CodecConfig</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">EpochSlots</span></span><span>
</span><span id="line-185"></span><span id="extractEpochSlots"><span class="annot"><span class="annottext">extractEpochSlots :: CodecConfig DualByronBlock -&gt; EpochSlots
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#extractEpochSlots"><span class="hs-identifier hs-var hs-var">extractEpochSlots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CodecConfig ByronBlock -&gt; EpochSlots
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-var hs-var">getByronEpochSlots</span></a></span><span> </span><span class="annot"><span class="annottext">(CodecConfig ByronBlock -&gt; EpochSlots)
-&gt; (CodecConfig DualByronBlock -&gt; CodecConfig ByronBlock)
-&gt; CodecConfig DualByronBlock
-&gt; EpochSlots
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CodecConfig DualByronBlock -&gt; CodecConfig ByronBlock
forall m a. CodecConfig (DualBlock m a) -&gt; CodecConfig m
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">dualCodecConfigMain</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- | The headers for 'DualByronBlock' and 'ByronBlock' are identical, so we</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- can safely cast the serialised forms.</span><span>
</span><span id="line-189"></span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#dualWrappedMain"><span class="hs-identifier hs-type">dualWrappedMain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialisedHeader</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span>
</span><span id="line-190"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialisedHeader</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">ByronBlock</span></a></span><span>
</span><span id="line-191"></span><span id="dualWrappedMain"><span class="annot"><span class="annottext">dualWrappedMain :: SerialisedHeader DualByronBlock -&gt; SerialisedHeader ByronBlock
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#dualWrappedMain"><span class="hs-identifier hs-var hs-var">dualWrappedMain</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 NestedCtxt_ DualByronBlock Header a
 -&gt; NestedCtxt_ ByronBlock Header a)
-&gt; SerialisedHeader DualByronBlock -&gt; SerialisedHeader ByronBlock
forall blk blk'.
(forall a. NestedCtxt_ blk Header a -&gt; NestedCtxt_ blk' Header a)
-&gt; SerialisedHeader blk -&gt; SerialisedHeader blk'
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">castSerialisedHeader</span></a></span><span> </span><span class="annot"><span class="annottext">forall a.
NestedCtxt_ DualByronBlock Header a
-&gt; NestedCtxt_ ByronBlock Header a
forall m a (f :: * -&gt; *) x.
NestedCtxt_ (DualBlock m a) f x -&gt; NestedCtxt_ m f x
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">ctxtDualMain</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-comment">-- | Inverse of 'dualWrappedMain'.</span><span>
</span><span id="line-194"></span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#rewrapMain"><span class="hs-identifier hs-type">rewrapMain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialisedHeader</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-byron-0.4.0.0/noopt/doc/html/ouroboros-consensus-byron/src"><span class="hs-identifier hs-type">ByronBlock</span></a></span><span>
</span><span id="line-195"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialisedHeader</span></a></span><span> </span><span class="annot"><a href="Ouroboros.Consensus.ByronDual.Ledger.html#DualByronBlock"><span class="hs-identifier hs-type">DualByronBlock</span></a></span><span>
</span><span id="line-196"></span><span id="rewrapMain"><span class="annot"><span class="annottext">rewrapMain :: SerialisedHeader ByronBlock -&gt; SerialisedHeader DualByronBlock
</span><a href="Ouroboros.Consensus.ByronDual.Node.Serialisation.html#rewrapMain"><span class="hs-identifier hs-var hs-var">rewrapMain</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 NestedCtxt_ ByronBlock Header a
 -&gt; NestedCtxt_ DualByronBlock Header a)
-&gt; SerialisedHeader ByronBlock -&gt; SerialisedHeader DualByronBlock
forall blk blk'.
(forall a. NestedCtxt_ blk Header a -&gt; NestedCtxt_ blk' Header a)
-&gt; SerialisedHeader blk -&gt; SerialisedHeader blk'
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">castSerialisedHeader</span></a></span><span> </span><span class="annot"><span class="annottext">forall a.
NestedCtxt_ ByronBlock Header a
-&gt; NestedCtxt_ DualByronBlock Header a
forall m (f :: * -&gt; *) x a.
NestedCtxt_ m f x -&gt; NestedCtxt_ (DualBlock m a) f x
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">CtxtDual</span></a></span><span>
</span><span id="line-197"></span></pre></body></html>