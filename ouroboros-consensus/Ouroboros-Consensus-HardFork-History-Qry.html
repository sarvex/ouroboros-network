<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Consensus.HardFork.History.Qry</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-consensus-0.3.1.0: Consensus layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Consensus.HardFork.History.Qry.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.HardFork.History.Qry</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Qry</a><ul><li><a href="#g:2">opaque</a></li></ul></li><li><a href="#g:3">Interpreter</a><ul><li><a href="#g:4">opaque</a></li></ul></li><li><a href="#g:5">Specific queries</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Expr">Expr</a> (f &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:EVar">EVar</a> &#8759; f a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a</li><li><a href="#v:ELit">ELit</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a &#8658; a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a</li><li><a href="#v:ELet">ELet</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a &#8594; (f a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f b</li><li><a href="#v:EPair">EPair</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f b &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (a, b)</li><li><a href="#v:EFst">EFst</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (a, b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a</li><li><a href="#v:ESnd">ESnd</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (a, b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f b</li><li><a href="#v:EAbsToRelTime">EAbsToRelTime</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:RelativeTime" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">RelativeTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f TimeInEra</li><li><a href="#v:EAbsToRelSlot">EAbsToRelSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f SlotInEra</li><li><a href="#v:EAbsToRelEpoch">EAbsToRelEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f EpochInEra</li><li><a href="#v:ERelToAbsTime">ERelToAbsTime</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f TimeInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:RelativeTime" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">RelativeTime</a></li><li><a href="#v:ERelToAbsSlot">ERelToAbsSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (SlotInEra, TimeInSlot) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></li><li><a href="#v:ERelToAbsEpoch">ERelToAbsEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (EpochInEra, SlotInEpoch) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a></li><li><a href="#v:ERelTimeToSlot">ERelTimeToSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f TimeInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (SlotInEra, TimeInSlot)</li><li><a href="#v:ERelSlotToTime">ERelSlotToTime</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f SlotInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f TimeInEra</li><li><a href="#v:ERelSlotToEpoch">ERelSlotToEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f SlotInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (EpochInEra, SlotInEpoch)</li><li><a href="#v:ERelEpochToSlot">ERelEpochToSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f EpochInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f SlotInEra</li><li><a href="#v:ESlotLength">ESlotLength</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">SlotLength</a></li><li><a href="#v:EEpochSize">EEpochSize</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochSize" title="Ouroboros.Consensus.Block.Abstract">EpochSize</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:PastHorizonException">PastHorizonException</a> = <a href="#v:PastHorizon">PastHorizon</a> {<ul class="subs"><li><a href="#v:pastHorizonCallStack">pastHorizonCallStack</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:CallStack" title="GHC.Stack">CallStack</a></li><li><a href="#v:pastHorizonExpression">pastHorizonExpression</a> &#8759; <a href="Ouroboros-Consensus-Util.html#t:Some" title="Ouroboros.Consensus.Util">Some</a> ClosedExpr</li><li><a href="#v:pastHorizonSummary">pastHorizonSummary</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History.Summary">EraSummary</a>]</li></ul>}</li><li class="src short"><a href="#v:qryFromExpr">qryFromExpr</a> &#8759; (&#8704; f. <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a</li><li class="src short"><a href="#v:runQuery">runQuery</a> &#8759; &#8704; a xs. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> a</li><li class="src short"><a href="#v:runQueryPure">runQueryPure</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a> xs &#8594; a</li><li class="src short"><a href="#v:runQueryThrow">runQueryThrow</a> &#8759; (<a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>, <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> m) &#8658; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a> xs &#8594; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Qry">Qry</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li class="src short"><a href="#v:interpretQuery">interpretQuery</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> a</li><li class="src short"><a href="#v:mkInterpreter">mkInterpreter</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs</li><li class="src short"><a href="#v:unsafeExtendSafeZone">unsafeExtendSafeZone</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs</li><li class="src short"><span class="keyword">data</span> <a href="#t:Interpreter">Interpreter</a> xs</li><li class="src short"><a href="#v:epochToSize">epochToSize</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochSize" title="Ouroboros.Consensus.Block.Abstract">EpochSize</a></li><li class="src short"><a href="#v:epochToSlot">epochToSlot</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>, <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochSize" title="Ouroboros.Consensus.Block.Abstract">EpochSize</a>)</li><li class="src short"><a href="#v:epochToSlot-39-">epochToSlot'</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></li><li class="src short"><a href="#v:slotToEpoch">slotToEpoch</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>)</li><li class="src short"><a href="#v:slotToEpoch-39-">slotToEpoch'</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>)</li><li class="src short"><a href="#v:slotToSlotLength">slotToSlotLength</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">SlotLength</a></li><li class="src short"><a href="#v:slotToWallclock">slotToWallclock</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:RelativeTime" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">RelativeTime</a>, <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">SlotLength</a>)</li><li class="src short"><a href="#v:wallclockToSlot">wallclockToSlot</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:RelativeTime" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">RelativeTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/time-1.9.3/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/time-1.9.3/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Qry</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Expr" class="def">Expr</a> (f &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <span class="keyword">where</span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#Expr" class="link">Source</a> <a href="#t:Expr" class="selflink">#</a></p><div class="doc"><p>Query expressions in PHOAS</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EVar" class="def">EVar</a> &#8759; f a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ELit" class="def">ELit</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a &#8658; a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ELet" class="def">ELet</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a &#8594; (f a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EPair" class="def">EPair</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f b &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (a, b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EFst" class="def">EFst</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (a, b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ESnd" class="def">ESnd</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (a, b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EAbsToRelTime" class="def">EAbsToRelTime</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:RelativeTime" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">RelativeTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f TimeInEra</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EAbsToRelSlot" class="def">EAbsToRelSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f SlotInEra</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EAbsToRelEpoch" class="def">EAbsToRelEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f EpochInEra</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ERelToAbsTime" class="def">ERelToAbsTime</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f TimeInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:RelativeTime" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">RelativeTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ERelToAbsSlot" class="def">ERelToAbsSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (SlotInEra, TimeInSlot) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ERelToAbsEpoch" class="def">ERelToAbsEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (EpochInEra, SlotInEpoch) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ERelTimeToSlot" class="def">ERelTimeToSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f TimeInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (SlotInEra, TimeInSlot)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ERelSlotToTime" class="def">ERelSlotToTime</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f SlotInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f TimeInEra</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ERelSlotToEpoch" class="def">ERelSlotToEpoch</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f SlotInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f (EpochInEra, SlotInEpoch)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ERelEpochToSlot" class="def">ERelEpochToSlot</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f EpochInEra &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f SlotInEra</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ESlotLength" class="def">ESlotLength</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">SlotLength</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EEpochSize" class="def">EEpochSize</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochSize" title="Ouroboros.Consensus.Block.Abstract">EpochSize</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PastHorizonException" class="def">PastHorizonException</a> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#PastHorizonException" class="link">Source</a> <a href="#t:PastHorizonException" class="selflink">#</a></p><div class="doc"><p>We tried to convert something that is past the horizon</p><p>That is, we tried to convert something that is past the point in time
 beyond which we lack information due to uncertainty about the next
 hard fork.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PastHorizon" class="def">PastHorizon</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:pastHorizonCallStack" class="def">pastHorizonCallStack</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:CallStack" title="GHC.Stack">CallStack</a></dfn><div class="doc"><p>Callstack to the call to <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#v:runQuery" title="Ouroboros.Consensus.HardFork.History.Qry">runQuery</a></code></p></div></li><li><dfn class="src"><a id="v:pastHorizonExpression" class="def">pastHorizonExpression</a> &#8759; <a href="Ouroboros-Consensus-Util.html#t:Some" title="Ouroboros.Consensus.Util">Some</a> ClosedExpr</dfn><div class="doc"><p>The <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a></code> we tried to evaluate</p></div></li><li><dfn class="src"><a id="v:pastHorizonSummary" class="def">pastHorizonSummary</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History.Summary">EraSummary</a>]</dfn><div class="doc"><p>The <code><a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:EraSummary" title="Ouroboros.Consensus.HardFork.History.Summary">EraSummary</a></code>s that we tried to evaluate the <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a></code> against</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PastHorizonException">Instances</h4><details id="i:PastHorizonException" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PastHorizonException:Show:1"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#line-361" class="link">Source</a> <a href="#t:PastHorizonException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PastHorizonException:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History-Qry.html">Ouroboros.Consensus.HardFork.History.Qry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a>] &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PastHorizonException:Exception:2"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:Exception" title="Ouroboros.Consensus.Util.IOLike">Exception</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#line-362" class="link">Source</a> <a href="#t:PastHorizonException" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PastHorizonException:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History-Qry.html">Ouroboros.Consensus.HardFork.History.Qry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> &#8594; <a href="Ouroboros-Consensus-Util-IOLike.html#t:SomeException" title="Ouroboros.Consensus.Util.IOLike">SomeException</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:SomeException" title="Ouroboros.Consensus.Util.IOLike">SomeException</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:qryFromExpr" class="def">qryFromExpr</a> &#8759; (&#8704; f. <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a> f a) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#qryFromExpr" class="link">Source</a> <a href="#v:qryFromExpr" class="selflink">#</a></p><div class="doc"><p>Construct a <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></code> from a closed <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a></code></p></div></div><div class="top"><p class="src"><a id="v:runQuery" class="def">runQuery</a> &#8759; &#8704; a xs. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> a <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#runQuery" class="link">Source</a> <a href="#v:runQuery" class="selflink">#</a></p><div class="doc"><p>Run a query</p><p>Unlike an <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a></code>, which is evaluated in a single era, a <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></code> is evaluated
 against <em>all</em> eras. Only if all <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a></code>s embedded in the <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></code> can be
 evaluated in the <em>same</em> era (we don't want to mix properties of different
 eras in one query) do we return the result. If there is no era in which we
 can evaluate all <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a></code>s in the <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></code>, we report a <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a></code>.</p><p>NOTE: this means that queries about separate eras have to be run separately,
 they should not be composed into a single query. How could we know to which
 era which relative slot/time refers?</p></div></div><div class="top"><p class="src"><a id="v:runQueryPure" class="def">runQueryPure</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a> xs &#8594; a <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#runQueryPure" class="link">Source</a> <a href="#v:runQueryPure" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runQueryThrow" class="def">runQueryThrow</a> &#8759; (<a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>, <a href="Ouroboros-Consensus-Util-IOLike.html#t:MonadThrow" title="Ouroboros.Consensus.Util.IOLike">MonadThrow</a> m) &#8658; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a> xs &#8594; m a <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#runQueryThrow" class="link">Source</a> <a href="#v:runQueryThrow" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h2>opaque</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Qry" class="def">Qry</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#Qry" class="link">Source</a> <a href="#t:Qry" class="selflink">#</a></p><div class="doc"><p>Query</p><p><code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></code> adds a monadic interface on top of <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Expr" title="Ouroboros.Consensus.HardFork.History.Qry">Expr</a></code>. Although means that <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></code>
 itself is not showable, the <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a></code> can nonetheless show the
 offending expression alongside the <code><a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a></code> against which it was evaluated.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Qry">Instances</h4><details id="i:Qry" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Qry:Monad:1"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#line-163" class="link">Source</a> <a href="#t:Qry" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Qry:Monad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History-Qry.html">Ouroboros.Consensus.HardFork.History.Qry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; (a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Qry:Functor:2"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#line-156" class="link">Source</a> <a href="#t:Qry" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Qry:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History-Qry.html">Ouroboros.Consensus.HardFork.History.Qry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> &#8759; (a &#8594; b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Qry:Applicative:3"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a></span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#line-159" class="link">Source</a> <a href="#t:Qry" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Qry:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History-Qry.html">Ouroboros.Consensus.HardFork.History.Qry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (a &#8594; b) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> &#8759; (a &#8594; b &#8594; c) &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> c <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> b &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h1>Interpreter</h1></a><div class="top"><p class="src"><a id="v:interpretQuery" class="def">interpretQuery</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> a &#8594; <a href="Ouroboros-Consensus-HardFork-Combinator-Degenerate.html#t:Either" title="Ouroboros.Consensus.HardFork.Combinator.Degenerate">Either</a> <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a> a <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#interpretQuery" class="link">Source</a> <a href="#v:interpretQuery" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkInterpreter" class="def">mkInterpreter</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#mkInterpreter" class="link">Source</a> <a href="#v:mkInterpreter" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unsafeExtendSafeZone" class="def">unsafeExtendSafeZone</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#unsafeExtendSafeZone" class="link">Source</a> <a href="#v:unsafeExtendSafeZone" class="selflink">#</a></p><div class="doc"><p>UNSAFE: extend the safe zone of the current era of the given <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a></code>
 to be <em>unbounded</em>, ignoring any future hard forks.</p><p>This only has effect when the <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a></code> was obtained in an era that was
 <em>not the final one</em> (in the final era, this is a no-op). The <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a></code>
 will be made to believe that the current era is the final era, making its
 horizon unbounded, and thus never returning a <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:PastHorizonException" title="Ouroboros.Consensus.HardFork.History.Qry">PastHorizonException</a></code>.</p><p>Use of this function is <em>strongly discouraged</em>, as it will ignore any future
 hard forks, and the results produced by the <code><a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a></code> can thus be
 incorrect.</p></div></div><a href="#g:4" id="g:4"><h2>opaque</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Interpreter" class="def">Interpreter</a> xs <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#Interpreter" class="link">Source</a> <a href="#t:Interpreter" class="selflink">#</a></p><div class="doc"><p>Can be sent across the LocalStateQuery protocol to interpret queries in
 the wallet.</p><p>The <code><a href="Ouroboros-Consensus-HardFork-History-Summary.html#t:Summary" title="Ouroboros.Consensus.HardFork.History.Summary">Summary</a></code> should be considered internal.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Interpreter">Instances</h4><details id="i:Interpreter" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Interpreter:Eq:1"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#line-415" class="link">Source</a> <a href="#t:Interpreter" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Interpreter:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History-Qry.html">Ouroboros.Consensus.HardFork.History.Qry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Interpreter:Show:2"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#line-419" class="link">Source</a> <a href="#t:Interpreter" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Interpreter:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History-Qry.html">Ouroboros.Consensus.HardFork.History.Qry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs] &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Interpreter:Serialise:3"></span> <a href="Data-SOP-Strict.html#t:SListI" title="Data.SOP.Strict">SListI</a> xs &#8658; Serialise (<a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs)</span> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#line-417" class="link">Source</a> <a href="#t:Interpreter" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Interpreter:Serialise:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-HardFork-History-Qry.html">Ouroboros.Consensus.HardFork.History.Qry</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:encode">encode</a> &#8759; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs &#8594; Encoding</p><p class="src"><a href="#v:decode">decode</a> &#8759; Decoder s (<a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs)</p><p class="src"><a href="#v:encodeList">encodeList</a> &#8759; [<a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs] &#8594; Encoding</p><p class="src"><a href="#v:decodeList">decodeList</a> &#8759; Decoder s [<a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Interpreter" title="Ouroboros.Consensus.HardFork.History.Qry">Interpreter</a> xs]</p></div></details></td></tr></table></details></div></div><a href="#g:5" id="g:5"><h1>Specific queries</h1></a><div class="top"><p class="src"><a id="v:epochToSize" class="def">epochToSize</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochSize" title="Ouroboros.Consensus.Block.Abstract">EpochSize</a> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#epochToSize" class="link">Source</a> <a href="#v:epochToSize" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:epochToSlot" class="def">epochToSlot</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>, <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochSize" title="Ouroboros.Consensus.Block.Abstract">EpochSize</a>) <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#epochToSlot" class="link">Source</a> <a href="#v:epochToSlot" class="selflink">#</a></p><div class="doc"><p>Translate <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a></code> to the <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></code> of the first slot in that epoch</p><p>Additionally returns the size of the epoch.</p></div></div><div class="top"><p class="src"><a id="v:epochToSlot-39-" class="def">epochToSlot'</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#epochToSlot%27" class="link">Source</a> <a href="#v:epochToSlot-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:slotToEpoch" class="def">slotToEpoch</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#slotToEpoch" class="link">Source</a> <a href="#v:slotToEpoch" class="selflink">#</a></p><div class="doc"><p>Translate <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></code> to its corresponding <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a></code></p><p>Additionally returns the relative slot within this epoch and how many
 slots are left in this slot.</p></div></div><div class="top"><p class="src"><a id="v:slotToEpoch-39-" class="def">slotToEpoch'</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>) <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#slotToEpoch%27" class="link">Source</a> <a href="#v:slotToEpoch-39-" class="selflink">#</a></p><div class="doc"><p>Convert <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></code> to <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:EpochNo" title="Ouroboros.Consensus.Block.Abstract">EpochNo</a></code> and the relative slot within the epoch</p></div></div><div class="top"><p class="src"><a id="v:slotToSlotLength" class="def">slotToSlotLength</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">SlotLength</a> <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#slotToSlotLength" class="link">Source</a> <a href="#v:slotToSlotLength" class="selflink">#</a></p><div class="doc"><p>Acquire a slot's length</p></div></div><div class="top"><p class="src"><a id="v:slotToWallclock" class="def">slotToWallclock</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:RelativeTime" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">RelativeTime</a>, <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:SlotLength" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">SlotLength</a>) <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#slotToWallclock" class="link">Source</a> <a href="#v:slotToWallclock" class="selflink">#</a></p><div class="doc"><p>Translate <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></code> to the <code>UTCTime</code> at the start of that slot</p><p>Additionally returns the length of the slot.</p></div></div><div class="top"><p class="src"><a id="v:wallclockToSlot" class="def">wallclockToSlot</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-WallClock-Types.html#t:RelativeTime" title="Ouroboros.Consensus.BlockchainTime.WallClock.Types">RelativeTime</a> &#8594; <a href="Ouroboros-Consensus-HardFork-History-Qry.html#t:Qry" title="Ouroboros.Consensus.HardFork.History.Qry">Qry</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/time-1.9.3/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/time-1.9.3/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a>) <a href="src/Ouroboros.Consensus.HardFork.History.Qry.html#wallclockToSlot" class="link">Source</a> <a href="#v:wallclockToSlot" class="selflink">#</a></p><div class="doc"><p>Translate <code>UTCTime</code> to <code><a href="Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></code></p><p>Additionally returns the time spent and time left in this slot.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>