<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Test.Util.Serialisation.Golden</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-consensus-test-0.3.1.0: Tests of the consensus layer</span><ul class="links" id="page-menu"><li><a href="src/Test.Util.Serialisation.Golden.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Test.Util.Serialisation.Golden</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Golden tests infrastructure.</p><p>Golden tests are implemented using
 <strong><a href="https://github.com/UnkindPartition/tasty-golden">tasty-golden</a></strong>.</p><p>When adding a new golden test, running the test suite locally will generate
 the golden files. These files should be checked in as CI will fail if there
 are missing golden files.</p><p>Failing a golden test suite when the corresponding golden files are not found
 is done via the <code>--no-create</code> flag, which surprisingly is opt-in. In our
 <code>nix</code> infrastructure, this flag for CI is set in
 <strong><a href="/nix/ouroboros-network.nix">ouroboros-network.nix</a></strong>:</p><pre> # Command-line options for test suites:
 packages.ouroboros-consensus-byron-test.components.tests.test.testFlags =
   lib.mkForce [ &quot;-- &gt;no-create&quot; ];
 packages.ouroboros-consensus-shelley-test.components.tests.test.testFlags =
   lib.mkForce [ &quot;-- &gt;no-create&quot; ];
 packages.ouroboros-consensus-cardano-test.components.tests.test.testFlags =
   lib.mkForce [ &quot;-- &gt;no-create&quot; ];</pre><p>In particular, if we introduce golden tests in different suites, we need to add
 a line in the nix configuration above similar to the previous ones, eg:</p><pre>packages.some-new-package.components.tests.test.testFlags =
   lib.mkForce [ &quot;-- &gt;no-create&quot; ];</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Examples">Examples</a> blk = <a href="#v:Examples">Examples</a> {<ul class="subs"><li><a href="#v:exampleBlock">exampleBlock</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> blk</li><li><a href="#v:exampleSerialisedBlock">exampleSerialisedBlock</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/Ouroboros-Network-Block.html#t:Serialised" title="Ouroboros.Network.Block">Serialised</a> blk)</li><li><a href="#v:exampleHeader">exampleHeader</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="Test-Util-TestBlock.html#t:Header" title="Test.Util.TestBlock">Header</a> blk)</li><li><a href="#v:exampleSerialisedHeader">exampleSerialisedHeader</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Storage-Serialisation.html#t:SerialisedHeader" title="Ouroboros.Consensus.Storage.Serialisation">SerialisedHeader</a> blk)</li><li><a href="#v:exampleHeaderHash">exampleHeaderHash</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk)</li><li><a href="#v:exampleGenTx">exampleGenTx</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-SupportsMempool.html#t:GenTx" title="Ouroboros.Consensus.Ledger.SupportsMempool">GenTx</a> blk)</li><li><a href="#v:exampleGenTxId">exampleGenTxId</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-SupportsMempool.html#t:GenTxId" title="Ouroboros.Consensus.Ledger.SupportsMempool">GenTxId</a> blk)</li><li><a href="#v:exampleApplyTxErr">exampleApplyTxErr</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-SupportsMempool.html#t:ApplyTxErr" title="Ouroboros.Consensus.Ledger.SupportsMempool">ApplyTxErr</a> blk)</li><li><a href="#v:exampleQuery">exampleQuery</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Util.html#t:SomeSecond" title="Ouroboros.Consensus.Util">SomeSecond</a> <a href="Test-Util-TestBlock.html#t:BlockQuery" title="Test.Util.TestBlock">BlockQuery</a> blk)</li><li><a href="#v:exampleResult">exampleResult</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="Test-Util-Serialisation-Roundtrip.html#t:SomeResult" title="Test.Util.Serialisation.Roundtrip">SomeResult</a> blk)</li><li><a href="#v:exampleAnnTip">exampleAnnTip</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-HeaderValidation.html#t:AnnTip" title="Ouroboros.Consensus.HeaderValidation">AnnTip</a> blk)</li><li><a href="#v:exampleLedgerState">exampleLedgerState</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="Test-Util-TestBlock.html#t:LedgerState" title="Test.Util.TestBlock">LedgerState</a> blk)</li><li><a href="#v:exampleChainDepState">exampleChainDepState</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Protocol-Abstract.html#t:ChainDepState" title="Ouroboros.Consensus.Protocol.Abstract">ChainDepState</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Block-Abstract.html#t:BlockProtocol" title="Ouroboros.Consensus.Block.Abstract">BlockProtocol</a> blk))</li><li><a href="#v:exampleExtLedgerState">exampleExtLedgerState</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</li><li><a href="#v:exampleSlotNo">exampleSlotNo</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Labelled">Labelled</a> a = [(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a>, a)]</li><li class="src short"><span class="keyword">class</span> <a href="#t:ToGoldenDirectory">ToGoldenDirectory</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:toGoldenDirectory">toGoldenDirectory</a> &#8759; a &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li></ul></li><li class="src short"><a href="#v:combineExamples">combineExamples</a> &#8759; &#8704; blk. (&#8704; a. <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a) &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk</li><li class="src short"><a href="#v:goldenTest_SerialiseDisk">goldenTest_SerialiseDisk</a> &#8759; &#8704; blk. (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Storage-ChainDB-Impl-Types.html#t:SerialiseDiskConstraints" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Types">SerialiseDiskConstraints</a> blk, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Test-Util-TestBlock.html#t:CodecConfig" title="Test.Util.TestBlock">CodecConfig</a> blk &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; TestTree</li><li class="src short"><a href="#v:goldenTest_SerialiseNodeToClient">goldenTest_SerialiseNodeToClient</a> &#8759; &#8704; blk. (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-Run.html#t:SerialiseNodeToClientConstraints" title="Ouroboros.Consensus.Node.Run">SerialiseNodeToClientConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:SupportedNetworkProtocolVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">SupportedNetworkProtocolVersion</a> blk, <a href="Test-Util-Serialisation-Golden.html#t:ToGoldenDirectory" title="Test.Util.Serialisation.Golden">ToGoldenDirectory</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-Query-Version.html#t:QueryVersion" title="Ouroboros.Consensus.Ledger.Query.Version">QueryVersion</a>, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToClientVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToClientVersion</a> blk), <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Test-Util-TestBlock.html#t:CodecConfig" title="Test.Util.TestBlock">CodecConfig</a> blk &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; TestTree</li><li class="src short"><a href="#v:goldenTest_SerialiseNodeToNode">goldenTest_SerialiseNodeToNode</a> &#8759; &#8704; blk. (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-Run.html#t:SerialiseNodeToNodeConstraints" title="Ouroboros.Consensus.Node.Run">SerialiseNodeToNodeConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:SupportedNetworkProtocolVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">SupportedNetworkProtocolVersion</a> blk, <a href="Test-Util-Serialisation-Golden.html#t:ToGoldenDirectory" title="Test.Util.Serialisation.Golden">ToGoldenDirectory</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToNodeVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToNodeVersion</a> blk), <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Test-Util-TestBlock.html#t:CodecConfig" title="Test.Util.TestBlock">CodecConfig</a> blk &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; TestTree</li><li class="src short"><a href="#v:goldenTest_all">goldenTest_all</a> &#8759; (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Storage-ChainDB-Impl-Types.html#t:SerialiseDiskConstraints" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Types">SerialiseDiskConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-Run.html#t:SerialiseNodeToNodeConstraints" title="Ouroboros.Consensus.Node.Run">SerialiseNodeToNodeConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-Run.html#t:SerialiseNodeToClientConstraints" title="Ouroboros.Consensus.Node.Run">SerialiseNodeToClientConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:SupportedNetworkProtocolVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">SupportedNetworkProtocolVersion</a> blk, <a href="Test-Util-Serialisation-Golden.html#t:ToGoldenDirectory" title="Test.Util.Serialisation.Golden">ToGoldenDirectory</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToNodeVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToNodeVersion</a> blk), <a href="Test-Util-Serialisation-Golden.html#t:ToGoldenDirectory" title="Test.Util.Serialisation.Golden">ToGoldenDirectory</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-Query-Version.html#t:QueryVersion" title="Ouroboros.Consensus.Ledger.Query.Version">QueryVersion</a>, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToClientVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToClientVersion</a> blk), <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Test-Util-TestBlock.html#t:CodecConfig" title="Test.Util.TestBlock">CodecConfig</a> blk &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; TestTree</li><li class="src short"><a href="#v:labelled">labelled</a> &#8759; [(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a>, a)] &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a</li><li class="src short"><a href="#v:mapExamples">mapExamples</a> &#8759; &#8704; blk. (&#8704; a. <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a) &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk</li><li class="src short"><a href="#v:prefixExamples">prefixExamples</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk</li><li class="src short"><a href="#v:unlabelled">unlabelled</a> &#8759; a &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Examples" class="def">Examples</a> blk <a href="src/Test.Util.Serialisation.Golden.html#Examples" class="link">Source</a> <a href="#t:Examples" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Examples" class="def">Examples</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:exampleBlock" class="def">exampleBlock</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> blk</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleSerialisedBlock" class="def">exampleSerialisedBlock</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-network-api-0.1.0.0/noopt/doc/html/ouroboros-network-api/Ouroboros-Network-Block.html#t:Serialised" title="Ouroboros.Network.Block">Serialised</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleHeader" class="def">exampleHeader</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="Test-Util-TestBlock.html#t:Header" title="Test.Util.TestBlock">Header</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleSerialisedHeader" class="def">exampleSerialisedHeader</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Storage-Serialisation.html#t:SerialisedHeader" title="Ouroboros.Consensus.Storage.Serialisation">SerialisedHeader</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleHeaderHash" class="def">exampleHeaderHash</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Block-Abstract.html#t:HeaderHash" title="Ouroboros.Consensus.Block.Abstract">HeaderHash</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleGenTx" class="def">exampleGenTx</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-SupportsMempool.html#t:GenTx" title="Ouroboros.Consensus.Ledger.SupportsMempool">GenTx</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleGenTxId" class="def">exampleGenTxId</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-SupportsMempool.html#t:GenTxId" title="Ouroboros.Consensus.Ledger.SupportsMempool">GenTxId</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleApplyTxErr" class="def">exampleApplyTxErr</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-SupportsMempool.html#t:ApplyTxErr" title="Ouroboros.Consensus.Ledger.SupportsMempool">ApplyTxErr</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleQuery" class="def">exampleQuery</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Util.html#t:SomeSecond" title="Ouroboros.Consensus.Util">SomeSecond</a> <a href="Test-Util-TestBlock.html#t:BlockQuery" title="Test.Util.TestBlock">BlockQuery</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleResult" class="def">exampleResult</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="Test-Util-Serialisation-Roundtrip.html#t:SomeResult" title="Test.Util.Serialisation.Roundtrip">SomeResult</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleAnnTip" class="def">exampleAnnTip</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-HeaderValidation.html#t:AnnTip" title="Ouroboros.Consensus.HeaderValidation">AnnTip</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleLedgerState" class="def">exampleLedgerState</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="Test-Util-TestBlock.html#t:LedgerState" title="Test.Util.TestBlock">LedgerState</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleChainDepState" class="def">exampleChainDepState</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Protocol-Abstract.html#t:ChainDepState" title="Ouroboros.Consensus.Protocol.Abstract">ChainDepState</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Block-Abstract.html#t:BlockProtocol" title="Ouroboros.Consensus.Block.Abstract">BlockProtocol</a> blk))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleExtLedgerState" class="def">exampleExtLedgerState</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:exampleSlotNo" class="def">exampleSlotNo</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Block-Abstract.html#t:SlotNo" title="Ouroboros.Consensus.Block.Abstract">SlotNo</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Examples">Instances</h4><details id="i:Examples" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Examples:Semigroup:1"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk)</span> <a href="src/Test.Util.Serialisation.Golden.html#line-299" class="link">Source</a> <a href="#t:Examples" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Examples:Semigroup:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-Util-Serialisation-Golden.html">Test.Util.Serialisation.Golden</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk) &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b &#8658; b &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Examples:Monoid:2"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk)</span> <a href="src/Test.Util.Serialisation.Golden.html#line-302" class="link">Source</a> <a href="#t:Examples" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Examples:Monoid:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-Util-Serialisation-Golden.html">Test.Util.Serialisation.Golden</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> &#8759; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> &#8759; [<a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk] &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Labelled" class="def">Labelled</a> a = [(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a>, a)] <a href="src/Test.Util.Serialisation.Golden.html#Labelled" class="link">Source</a> <a href="#t:Labelled" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ToGoldenDirectory" class="def">ToGoldenDirectory</a> a <span class="keyword">where</span> <a href="src/Test.Util.Serialisation.Golden.html#ToGoldenDirectory" class="link">Source</a> <a href="#t:ToGoldenDirectory" class="selflink">#</a></p><div class="doc"><p>Convert <code>a</code> to a <code><a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></code> that can be used as the directory containing
 golden output files.</p><p>This class allows overriding the <code><a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code> in cases where that output is not
 suitable to be used as a directory.</p><p>For example, the <code><a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code> output for a hard fork enabled <code>NodeToNodeVersion</code>
 will contain colons, asterisks, spaces, parentheses, ... and other
 characters that we don't want to use for a directory name. For instance
 colons cannot be used in Windows file/folder names.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:toGoldenDirectory" class="def">toGoldenDirectory</a> &#8759; a &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Test.Util.Serialisation.Golden.html#toGoldenDirectory" class="link">Source</a> <a href="#v:toGoldenDirectory" class="selflink">#</a></p> <div class="subs default"><p class="caption"></p><p class="src"><span class="keyword">default</span> <a id="v:toGoldenDirectory" class="def">toGoldenDirectory</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a &#8658; a &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Test.Util.Serialisation.Golden.html#toGoldenDirectory" class="link">Source</a> <a href="#v:toGoldenDirectory" class="selflink">#</a></p></div></div></div><div class="top"><p class="src"><a id="v:combineExamples" class="def">combineExamples</a> &#8759; &#8704; blk. (&#8704; a. <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a) &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="src/Test.Util.Serialisation.Golden.html#combineExamples" class="link">Source</a> <a href="#v:combineExamples" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:goldenTest_SerialiseDisk" class="def">goldenTest_SerialiseDisk</a> &#8759; &#8704; blk. (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Storage-ChainDB-Impl-Types.html#t:SerialiseDiskConstraints" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Types">SerialiseDiskConstraints</a> blk, <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Test-Util-TestBlock.html#t:CodecConfig" title="Test.Util.TestBlock">CodecConfig</a> blk &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; TestTree <a href="src/Test.Util.Serialisation.Golden.html#goldenTest_SerialiseDisk" class="link">Source</a> <a href="#v:goldenTest_SerialiseDisk" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:goldenTest_SerialiseNodeToClient" class="def">goldenTest_SerialiseNodeToClient</a> &#8759; &#8704; blk. (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-Run.html#t:SerialiseNodeToClientConstraints" title="Ouroboros.Consensus.Node.Run">SerialiseNodeToClientConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:SupportedNetworkProtocolVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">SupportedNetworkProtocolVersion</a> blk, <a href="Test-Util-Serialisation-Golden.html#t:ToGoldenDirectory" title="Test.Util.Serialisation.Golden">ToGoldenDirectory</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-Query-Version.html#t:QueryVersion" title="Ouroboros.Consensus.Ledger.Query.Version">QueryVersion</a>, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToClientVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToClientVersion</a> blk), <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Test-Util-TestBlock.html#t:CodecConfig" title="Test.Util.TestBlock">CodecConfig</a> blk &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; TestTree <a href="src/Test.Util.Serialisation.Golden.html#goldenTest_SerialiseNodeToClient" class="link">Source</a> <a href="#v:goldenTest_SerialiseNodeToClient" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:goldenTest_SerialiseNodeToNode" class="def">goldenTest_SerialiseNodeToNode</a> &#8759; &#8704; blk. (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-Run.html#t:SerialiseNodeToNodeConstraints" title="Ouroboros.Consensus.Node.Run">SerialiseNodeToNodeConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:SupportedNetworkProtocolVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">SupportedNetworkProtocolVersion</a> blk, <a href="Test-Util-Serialisation-Golden.html#t:ToGoldenDirectory" title="Test.Util.Serialisation.Golden">ToGoldenDirectory</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToNodeVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToNodeVersion</a> blk), <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Test-Util-TestBlock.html#t:CodecConfig" title="Test.Util.TestBlock">CodecConfig</a> blk &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; TestTree <a href="src/Test.Util.Serialisation.Golden.html#goldenTest_SerialiseNodeToNode" class="link">Source</a> <a href="#v:goldenTest_SerialiseNodeToNode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:goldenTest_all" class="def">goldenTest_all</a> <a href="src/Test.Util.Serialisation.Golden.html#goldenTest_all" class="link">Source</a> <a href="#v:goldenTest_all" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Storage-ChainDB-Impl-Types.html#t:SerialiseDiskConstraints" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Types">SerialiseDiskConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-Run.html#t:SerialiseNodeToNodeConstraints" title="Ouroboros.Consensus.Node.Run">SerialiseNodeToNodeConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-Run.html#t:SerialiseNodeToClientConstraints" title="Ouroboros.Consensus.Node.Run">SerialiseNodeToClientConstraints</a> blk, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:SupportedNetworkProtocolVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">SupportedNetworkProtocolVersion</a> blk, <a href="Test-Util-Serialisation-Golden.html#t:ToGoldenDirectory" title="Test.Util.Serialisation.Golden">ToGoldenDirectory</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToNodeVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToNodeVersion</a> blk), <a href="Test-Util-Serialisation-Golden.html#t:ToGoldenDirectory" title="Test.Util.Serialisation.Golden">ToGoldenDirectory</a> (<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-Query-Version.html#t:QueryVersion" title="Ouroboros.Consensus.Ledger.Query.Version">QueryVersion</a>, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Node-NetworkProtocolVersion.html#t:BlockNodeToClientVersion" title="Ouroboros.Consensus.Node.NetworkProtocolVersion">BlockNodeToClientVersion</a> blk), <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Test-Util-TestBlock.html#t:CodecConfig" title="Test.Util.TestBlock">CodecConfig</a> blk</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></td><td class="doc"><p>Path relative to the root of the repository that contains the golden
 files</p></td></tr><tr><td class="src">&#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; TestTree</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Golden tests for all things we serialise to disk and send across the
 network.</p><p>Exceptions: when an encoder throws an exception, which can happen when
 serialising a Shelley header in combination with
 <code>CardanoNodeToNodeVersion1</code>, we <code><a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#v:show" title="Text.Show">show</a></code> the exception and use that as the
 output.</p></div></div><div class="top"><p class="src"><a id="v:labelled" class="def">labelled</a> &#8759; [(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a>, a)] &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a <a href="src/Test.Util.Serialisation.Golden.html#labelled" class="link">Source</a> <a href="#v:labelled" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mapExamples" class="def">mapExamples</a> &#8759; &#8704; blk. (&#8704; a. <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a) &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="src/Test.Util.Serialisation.Golden.html#mapExamples" class="link">Source</a> <a href="#v:mapExamples" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:prefixExamples" class="def">prefixExamples</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Examples" title="Test.Util.Serialisation.Golden">Examples</a> blk <a href="src/Test.Util.Serialisation.Golden.html#prefixExamples" class="link">Source</a> <a href="#v:prefixExamples" class="selflink">#</a></p><div class="doc"><p>Add the given prefix to each labelled example.</p><p>When a label is empty, the prefix is used as the label. If the label is not
 empty, the prefix and <code>_</code> are prepended.</p></div></div><div class="top"><p class="src"><a id="v:unlabelled" class="def">unlabelled</a> &#8759; a &#8594; <a href="Test-Util-Serialisation-Golden.html#t:Labelled" title="Test.Util.Serialisation.Golden">Labelled</a> a <a href="src/Test.Util.Serialisation.Golden.html#unlabelled" class="link">Source</a> <a href="#v:unlabelled" class="selflink">#</a></p></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:Condense:Condense:1"></span> <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Util-Condense.html#t:Condense" title="Ouroboros.Consensus.Util.Condense">Condense</a> TermToken</span> <a href="src/Test.Util.Serialisation.Golden.html#line-499" class="link">Source</a> <a href="#v:-36-fCondenseTermToken" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:Condense:Condense:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:condense">condense</a> &#8759; TermToken &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/ouroboros-consensus-0.3.1.0/noopt/doc/html/ouroboros-consensus/src" class="link">Source</a> <a href="#v:condense" class="selflink">#</a></p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>