<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Network.InboundGovernor.State</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-network-framework-0.3.0.0: Ouroboros network framework</span><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Network.InboundGovernor.State.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.InboundGovernor.State</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Internals</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">newtype</span> <a href="#t:InboundGovernorObservableState">InboundGovernorObservableState</a> = <a href="#v:InboundGovernorObservableState">InboundGovernorObservableState</a> {<ul class="subs"><li><a href="#v:igosPrng">igosPrng</a> &#8759; StdGen</li></ul>}</li><li class="src short"><a href="#v:newObservableStateVar">newObservableStateVar</a> &#8759; MonadLabelledSTM m &#8658; StdGen &#8594; m (StrictTVar m <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorObservableState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorObservableState</a>)</li><li class="src short"><a href="#v:newObservableStateVarIO">newObservableStateVarIO</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (StrictTVar <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorObservableState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorObservableState</a>)</li><li class="src short"><a href="#v:newObservableStateVarFromSeed">newObservableStateVarFromSeed</a> &#8759; MonadLabelledSTM m &#8658; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; m (StrictTVar m <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorObservableState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorObservableState</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:InboundGovernorState">InboundGovernorState</a> muxMode peerAddr m a b = <a href="#v:InboundGovernorState">InboundGovernorState</a> {<ul class="subs"><li><a href="#v:igsConnections">igsConnections</a> &#8759; !(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr) (<a href="Ouroboros-Network-InboundGovernor-State.html#t:ConnectionState" title="Ouroboros.Network.InboundGovernor.State">ConnectionState</a> muxMode peerAddr m a b))</li><li><a href="#v:igsObservableVar">igsObservableVar</a> &#8759; !(StrictTVar m <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorObservableState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorObservableState</a>)</li><li><a href="#v:igsCountersCache">igsCountersCache</a> &#8759; !(<a href="Data-Cache.html#t:Cache" title="Data.Cache">Cache</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a>)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ConnectionState">ConnectionState</a> muxMode peerAddr m a b = <a href="#v:ConnectionState">ConnectionState</a> {<ul class="subs"><li><a href="#v:csMux">csMux</a> &#8759; !(<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/network-mux-0.3.0.0/noopt/doc/html/network-mux/Network-Mux.html#t:Mux" title="Network.Mux">Mux</a> muxMode m)</li><li><a href="#v:csDataFlow">csDataFlow</a> &#8759; !<a href="Ouroboros-Network-ConnectionManager-Types.html#t:DataFlow" title="Ouroboros.Network.ConnectionManager.Types">DataFlow</a></li><li><a href="#v:csMiniProtocolMap">csMiniProtocolMap</a> &#8759; !(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="Ouroboros-Network-Mux.html#t:MiniProtocolNum" title="Ouroboros.Network.Mux">MiniProtocolNum</a> (<a href="Ouroboros-Network-InboundGovernor-State.html#t:MiniProtocolData" title="Ouroboros.Network.InboundGovernor.State">MiniProtocolData</a> muxMode m a b))</li><li><a href="#v:csCompletionMap">csCompletionMap</a> &#8759; !(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="Ouroboros-Network-Mux.html#t:MiniProtocolNum" title="Ouroboros.Network.Mux">MiniProtocolNum</a> (STM m (<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> b)))</li><li><a href="#v:csRemoteState">csRemoteState</a> &#8759; !(<a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:InboundGovernorCounters">InboundGovernorCounters</a> = <a href="#v:InboundGovernorCounters">InboundGovernorCounters</a> {<ul class="subs"><li><a href="#v:coldPeersRemote">coldPeersRemote</a> &#8759; !<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:idlePeersRemote">idlePeersRemote</a> &#8759; !<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:warmPeersRemote">warmPeersRemote</a> &#8759; !<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:hotPeersRemote">hotPeersRemote</a> &#8759; !<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul>}</li><li class="src short"><a href="#v:inboundGovernorCounters">inboundGovernorCounters</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a></li><li class="src short"><a href="#v:unregisterConnection">unregisterConnection</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr &#8658; <a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b</li><li class="src short"><a href="#v:updateMiniProtocol">updateMiniProtocol</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr &#8658; <a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr &#8594; <a href="Ouroboros-Network-Mux.html#t:MiniProtocolNum" title="Ouroboros.Network.Mux">MiniProtocolNum</a> &#8594; STM m (<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> b) &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b</li><li class="src short"><span class="keyword">data</span> <a href="#t:RemoteState">RemoteState</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:RemoteWarm">RemoteWarm</a></li><li><a href="#v:RemoteHot">RemoteHot</a></li><li><a href="#v:RemoteIdle">RemoteIdle</a> !(STM m ())</li><li><a href="#v:RemoteCold">RemoteCold</a></li><li><span class="keyword">pattern</span> <a href="#v:RemoteEstablished">RemoteEstablished</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m</li></ul></li><li class="src short"><a href="#v:updateRemoteState">updateRemoteState</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr &#8658; <a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b</li><li class="src short"><a href="#v:mapRemoteState">mapRemoteState</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr &#8658; <a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr &#8594; (<a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m) &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b</li><li class="src short"><span class="keyword">data</span> <a href="#t:MiniProtocolData">MiniProtocolData</a> muxMode m a b = <a href="#v:MiniProtocolData">MiniProtocolData</a> {<ul class="subs"><li><a href="#v:mpdMiniProtocol">mpdMiniProtocol</a> &#8759; !(<a href="Ouroboros-Network-Mux.html#t:MiniProtocol" title="Ouroboros.Network.Mux">MiniProtocol</a> muxMode <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m a b)</li><li><a href="#v:mpdMiniProtocolTemp">mpdMiniProtocolTemp</a> &#8759; !<a href="Ouroboros-Network-Mux.html#t:ProtocolTemperature" title="Ouroboros.Network.Mux">ProtocolTemperature</a></li></ul>}</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:InboundGovernorObservableState" class="def">InboundGovernorObservableState</a> <a href="src/Ouroboros.Network.InboundGovernor.State.html#InboundGovernorObservableState" class="link">Source</a> <a href="#t:InboundGovernorObservableState" class="selflink">#</a></p><div class="doc"><p>Currently only <code>StdGen</code>, but in the future this will be extended to
 a record which contains some useful statistics about peers to support more
 advanced prune strategies (see. <code>PruneStrategy</code>).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InboundGovernorObservableState" class="def">InboundGovernorObservableState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:igosPrng" class="def">igosPrng</a> &#8759; StdGen</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:newObservableStateVar" class="def">newObservableStateVar</a> &#8759; MonadLabelledSTM m &#8658; StdGen &#8594; m (StrictTVar m <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorObservableState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorObservableState</a>) <a href="src/Ouroboros.Network.InboundGovernor.State.html#newObservableStateVar" class="link">Source</a> <a href="#v:newObservableStateVar" class="selflink">#</a></p><div class="doc"><p>Create new observable state <code>StrictTVar</code>.</p></div></div><div class="top"><p class="src"><a id="v:newObservableStateVarIO" class="def">newObservableStateVarIO</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (StrictTVar <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorObservableState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorObservableState</a>) <a href="src/Ouroboros.Network.InboundGovernor.State.html#newObservableStateVarIO" class="link">Source</a> <a href="#v:newObservableStateVarIO" class="selflink">#</a></p><div class="doc"><p>Using the global <code>StdGen</code>.</p></div></div><div class="top"><p class="src"><a id="v:newObservableStateVarFromSeed" class="def">newObservableStateVarFromSeed</a> &#8759; MonadLabelledSTM m &#8658; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; m (StrictTVar m <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorObservableState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorObservableState</a>) <a href="src/Ouroboros.Network.InboundGovernor.State.html#newObservableStateVarFromSeed" class="link">Source</a> <a href="#v:newObservableStateVarFromSeed" class="selflink">#</a></p><div class="doc"><p>Useful for testing, it is using <code>mkStdGen</code>.</p></div></div><a href="#g:1" id="g:1"><h1>Internals</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InboundGovernorState" class="def">InboundGovernorState</a> muxMode peerAddr m a b <a href="src/Ouroboros.Network.InboundGovernor.State.html#InboundGovernorState" class="link">Source</a> <a href="#t:InboundGovernorState" class="selflink">#</a></p><div class="doc"><p><code><a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a></code>, which consist of pure part, and a mutable part.
 The mutable part can be observable from outside.  Future version could
 contain additional statistics on the peers.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InboundGovernorState" class="def">InboundGovernorState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:igsConnections" class="def">igsConnections</a> &#8759; !(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> (<a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr) (<a href="Ouroboros-Network-InboundGovernor-State.html#t:ConnectionState" title="Ouroboros.Network.InboundGovernor.State">ConnectionState</a> muxMode peerAddr m a b))</dfn><div class="doc"><p>Map of connections state.  Modifying <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:igsConnections" title="Ouroboros.Network.InboundGovernor.State">igsConnections</a></code> outside of
 <code>inboundGovernorLoop</code> is not safe.</p></div></li><li><dfn class="src"><a id="v:igsObservableVar" class="def">igsObservableVar</a> &#8759; !(StrictTVar m <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorObservableState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorObservableState</a>)</dfn><div class="doc"><p>PRNG available to <code><a href="Ouroboros-Network-ConnectionManager-Types.html#t:PrunePolicy" title="Ouroboros.Network.ConnectionManager.Types">PrunePolicy</a></code>.</p></div></li><li><dfn class="src"><a id="v:igsCountersCache" class="def">igsCountersCache</a> &#8759; !(<a href="Data-Cache.html#t:Cache" title="Data.Cache">Cache</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a>)</dfn><div class="doc"><p><code><a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a></code> counters cache. Allows to only trace
 values when necessary.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConnectionState" class="def">ConnectionState</a> muxMode peerAddr m a b <a href="src/Ouroboros.Network.InboundGovernor.State.html#ConnectionState" class="link">Source</a> <a href="#t:ConnectionState" class="selflink">#</a></p><div class="doc"><p>Per connection state tracked by <em>inbound protocol governor</em>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ConnectionState" class="def">ConnectionState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:csMux" class="def">csMux</a> &#8759; !(<a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.7/network-mux-0.3.0.0/noopt/doc/html/network-mux/Network-Mux.html#t:Mux" title="Network.Mux">Mux</a> muxMode m)</dfn><div class="doc"><p>Mux interface.</p></div></li><li><dfn class="src"><a id="v:csDataFlow" class="def">csDataFlow</a> &#8759; !<a href="Ouroboros-Network-ConnectionManager-Types.html#t:DataFlow" title="Ouroboros.Network.ConnectionManager.Types">DataFlow</a></dfn><div class="doc"><p>Connection data flow.</p></div></li><li><dfn class="src"><a id="v:csMiniProtocolMap" class="def">csMiniProtocolMap</a> &#8759; !(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="Ouroboros-Network-Mux.html#t:MiniProtocolNum" title="Ouroboros.Network.Mux">MiniProtocolNum</a> (<a href="Ouroboros-Network-InboundGovernor-State.html#t:MiniProtocolData" title="Ouroboros.Network.InboundGovernor.State">MiniProtocolData</a> muxMode m a b))</dfn><div class="doc"><p>All supported mini-protocols and respective
 <code><a href="Ouroboros-Network-Mux.html#t:ProtocolTemperature" title="Ouroboros.Network.Mux">ProtocolTemperature</a></code></p></div></li><li><dfn class="src"><a id="v:csCompletionMap" class="def">csCompletionMap</a> &#8759; !(<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="Ouroboros-Network-Mux.html#t:MiniProtocolNum" title="Ouroboros.Network.Mux">MiniProtocolNum</a> (STM m (<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> b)))</dfn><div class="doc"><p>Map of all running mini-protocol completion STM actions.</p></div></li><li><dfn class="src"><a id="v:csRemoteState" class="def">csRemoteState</a> &#8759; !(<a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m)</dfn><div class="doc"><p>State of the connection.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InboundGovernorCounters" class="def">InboundGovernorCounters</a> <a href="src/Ouroboros.Network.InboundGovernor.State.html#InboundGovernorCounters" class="link">Source</a> <a href="#t:InboundGovernorCounters" class="selflink">#</a></p><div class="doc"><p>Counters for tracing and analysis purposes</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InboundGovernorCounters" class="def">InboundGovernorCounters</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:coldPeersRemote" class="def">coldPeersRemote</a> &#8759; !<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>the number of remote peers which are in <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteCold" title="Ouroboros.Network.InboundGovernor.State">RemoteCold</a></code> state</p></div></li><li><dfn class="src"><a id="v:idlePeersRemote" class="def">idlePeersRemote</a> &#8759; !<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>the number of remote peers which are in <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteIdle" title="Ouroboros.Network.InboundGovernor.State">RemoteIdle</a></code> state</p></div></li><li><dfn class="src"><a id="v:warmPeersRemote" class="def">warmPeersRemote</a> &#8759; !<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>the number of remote peers which are in <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteWarm" title="Ouroboros.Network.InboundGovernor.State">RemoteWarm</a></code> state (a close
 approximation of peers that have the node as a warm peer)</p></div></li><li><dfn class="src"><a id="v:hotPeersRemote" class="def">hotPeersRemote</a> &#8759; !<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>the number of remote peers which are in <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteHot" title="Ouroboros.Network.InboundGovernor.State">RemoteHot</a></code> state (a close
 approximation of peers that have the node as a hot peer)</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InboundGovernorCounters">Instances</h4><details id="i:InboundGovernorCounters" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InboundGovernorCounters:Eq:1"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a></span> <a href="src/Ouroboros.Network.InboundGovernor.State.html#line-121" class="link">Source</a> <a href="#t:InboundGovernorCounters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InboundGovernorCounters:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-InboundGovernor-State.html">Ouroboros.Network.InboundGovernor.State</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InboundGovernorCounters:Ord:2"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a></span> <a href="src/Ouroboros.Network.InboundGovernor.State.html#line-121" class="link">Source</a> <a href="#t:InboundGovernorCounters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InboundGovernorCounters:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-InboundGovernor-State.html">Ouroboros.Network.InboundGovernor.State</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InboundGovernorCounters:Show:3"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a></span> <a href="src/Ouroboros.Network.InboundGovernor.State.html#line-121" class="link">Source</a> <a href="#t:InboundGovernorCounters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InboundGovernorCounters:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-InboundGovernor-State.html">Ouroboros.Network.InboundGovernor.State</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a>] &#8594; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InboundGovernorCounters:Semigroup:4"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a></span> <a href="src/Ouroboros.Network.InboundGovernor.State.html#line-123" class="link">Source</a> <a href="#t:InboundGovernorCounters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InboundGovernorCounters:Semigroup:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-InboundGovernor-State.html">Ouroboros.Network.InboundGovernor.State</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b &#8658; b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:InboundGovernorCounters:Monoid:5"></span> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a></span> <a href="src/Ouroboros.Network.InboundGovernor.State.html#line-127" class="link">Source</a> <a href="#t:InboundGovernorCounters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:InboundGovernorCounters:Monoid:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-InboundGovernor-State.html">Ouroboros.Network.InboundGovernor.State</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> &#8759; [<a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a>] &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:inboundGovernorCounters" class="def">inboundGovernorCounters</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorCounters" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorCounters</a> <a href="src/Ouroboros.Network.InboundGovernor.State.html#inboundGovernorCounters" class="link">Source</a> <a href="#v:inboundGovernorCounters" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:unregisterConnection" class="def">unregisterConnection</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr &#8658; <a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b <a href="src/Ouroboros.Network.InboundGovernor.State.html#unregisterConnection" class="link">Source</a> <a href="#v:unregisterConnection" class="selflink">#</a></p><div class="doc"><p>Remove connection from <code><a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:updateMiniProtocol" class="def">updateMiniProtocol</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr &#8658; <a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr &#8594; <a href="Ouroboros-Network-Mux.html#t:MiniProtocolNum" title="Ouroboros.Network.Mux">MiniProtocolNum</a> &#8594; STM m (<a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> b) &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b <a href="src/Ouroboros.Network.InboundGovernor.State.html#updateMiniProtocol" class="link">Source</a> <a href="#v:updateMiniProtocol" class="selflink">#</a></p><div class="doc"><p>Update a mini-protocol in <code><a href="Ouroboros-Network-InboundGovernor-State.html#t:ConnectionState" title="Ouroboros.Network.InboundGovernor.State">ConnectionState</a></code>.  Once a mini-protocol was
 restarted we put the new completion action into <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:csCompletionMap" title="Ouroboros.Network.InboundGovernor.State">csCompletionMap</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RemoteState" class="def">RemoteState</a> m <a href="src/Ouroboros.Network.InboundGovernor.State.html#RemoteState" class="link">Source</a> <a href="#t:RemoteState" class="selflink">#</a></p><div class="doc"><p>Each inbound connection is either in <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteIdle" title="Ouroboros.Network.InboundGovernor.State">RemoteIdle</a></code>, <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteCold" title="Ouroboros.Network.InboundGovernor.State">RemoteCold</a></code> or
 <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteEstablished" title="Ouroboros.Network.InboundGovernor.State">RemoteEstablished</a></code> state.  We only need to support
 <code>PromotedToWarm^{Duplex}_{Remote}</code>,
 <code>DemotedToCold^{Duplex}_{Remote}</code> and
 <code>DemotedToCold^{Unidirectional}_{Remote}</code> transitions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RemoteWarm" class="def">RemoteWarm</a></td><td class="doc"><p>After <code>PromotedToWarm^{dataFlow}_{Remote}</code> a connection is in
 <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteWarm" title="Ouroboros.Network.InboundGovernor.State">RemoteWarm</a></code> state.</p></td></tr><tr><td class="src"><a id="v:RemoteHot" class="def">RemoteHot</a></td><td class="doc"><p>In this state all established and hot mini-protocols are running and
 none of the warm mini-protocols is running.</p></td></tr><tr><td class="src"><a id="v:RemoteIdle" class="def">RemoteIdle</a> !(STM m ())</td><td class="doc"><p>After <code>DemotedToCold^{dataFlow}_{Remote}</code> is detected.  This state
 corresponds to <code>InboundIdleState</code>. In this state we are checking
 if the responder protocols are idle during protocol idle timeout
 (represented by an <code>STM</code> action)</p><p><code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteIdle" title="Ouroboros.Network.InboundGovernor.State">RemoteIdle</a></code> is the initial state of an accepted a connection.</p></td></tr><tr><td class="src"><a id="v:RemoteCold" class="def">RemoteCold</a></td><td class="doc"><p>The <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteCold" title="Ouroboros.Network.InboundGovernor.State">RemoteCold</a></code> state for <code><a href="Ouroboros-Network-ConnectionManager-Types.html#v:Duplex" title="Ouroboros.Network.ConnectionManager.Types">Duplex</a></code> connections allows us to have
 responders started using the on-demand strategy.  This assures that once
 the remote peer start using the connection the local side will be ready
 to serve it.</p><p>For a <code><a href="Ouroboros-Network-ConnectionManager-Types.html#v:Duplex" title="Ouroboros.Network.ConnectionManager.Types">Duplex</a></code> connection: a <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteIdle" title="Ouroboros.Network.InboundGovernor.State">RemoteIdle</a></code> connection transitions to
 <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:RemoteCold" title="Ouroboros.Network.InboundGovernor.State">RemoteCold</a></code> state after all responders being idle for
 <code>protocolIdleTimeout</code>. This triggers <code><a href="Ouroboros-Network-ConnectionManager-Types.html#v:unregisterInboundConnection" title="Ouroboros.Network.ConnectionManager.Types">unregisterInboundConnection</a></code>.</p><p>For a <code>Unidreictional</code> connection: after all responders terminated.</p></td></tr></table></div><div class="subs bundled-patterns"><p class="caption">Bundled Patterns</p><table><tr><td class="src"><span class="keyword">pattern</span> <a id="v:RemoteEstablished" class="def">RemoteEstablished</a> &#8759; <a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:updateRemoteState" class="def">updateRemoteState</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr &#8658; <a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b <a href="src/Ouroboros.Network.InboundGovernor.State.html#updateRemoteState" class="link">Source</a> <a href="#v:updateRemoteState" class="selflink">#</a></p><div class="doc"><p>Set <code><a href="Ouroboros-Network-InboundGovernor-State.html#v:csRemoteState" title="Ouroboros.Network.InboundGovernor.State">csRemoteState</a></code> for a given connection.</p></div></div><div class="top"><p class="src"><a id="v:mapRemoteState" class="def">mapRemoteState</a> &#8759; <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> peerAddr &#8658; <a href="Ouroboros-Network-ConnectionId.html#t:ConnectionId" title="Ouroboros.Network.ConnectionId">ConnectionId</a> peerAddr &#8594; (<a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:RemoteState" title="Ouroboros.Network.InboundGovernor.State">RemoteState</a> m) &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b &#8594; <a href="Ouroboros-Network-InboundGovernor-State.html#t:InboundGovernorState" title="Ouroboros.Network.InboundGovernor.State">InboundGovernorState</a> muxMode peerAddr m a b <a href="src/Ouroboros.Network.InboundGovernor.State.html#mapRemoteState" class="link">Source</a> <a href="#v:mapRemoteState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MiniProtocolData" class="def">MiniProtocolData</a> muxMode m a b <a href="src/Ouroboros.Network.InboundGovernor.State.html#MiniProtocolData" class="link">Source</a> <a href="#t:MiniProtocolData" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MiniProtocolData" class="def">MiniProtocolData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:mpdMiniProtocol" class="def">mpdMiniProtocol</a> &#8759; !(<a href="Ouroboros-Network-Mux.html#t:MiniProtocol" title="Ouroboros.Network.Mux">MiniProtocol</a> muxMode <a href="file:///usr/local/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m a b)</dfn><div class="doc"><p>Static <code><a href="Ouroboros-Network-Mux.html#t:MiniProtocol" title="Ouroboros.Network.Mux">MiniProtocol</a></code> description.</p></div></li><li><dfn class="src"><a id="v:mpdMiniProtocolTemp" class="def">mpdMiniProtocolTemp</a> &#8759; !<a href="Ouroboros-Network-Mux.html#t:ProtocolTemperature" title="Ouroboros.Network.Mux">ProtocolTemperature</a></dfn><div class="doc"><p>Static mini-protocol temperature.</p></div></li></ul></div></td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>